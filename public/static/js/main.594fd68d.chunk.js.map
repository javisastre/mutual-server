{"version":3,"sources":["services/auth-service.js","context/auth-context.js","services/alert-service.js","components/AlertButton/AlertButton.js","components/Authform/Signup/Signup.js","components/Authform/Login/Login.js","components/Authform/Authform.js","components/IAmOkForm/IAmOkForm.js","pages/AlertUser/AlertUser.js","pages/MainPage/MainPage.js","pages/HeatMap/HeatMap.js","services/user-service.js","pages/AlertList/AlertList.js","services/net-service.js","pages/Profile/Profile.js","pages/Netsform/CreateNet/CreateNet.js","pages/Netsform/JoinNet/JoinNet.js","pages/Netsform/Netsform.js","pages/AlertMap/AlertMap.js","components/Navbar/Menu.js","components/Navbar/Navbar.js","components/PrivateRoute/PrivateRoute.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","username","email","password","post","then","response","data","get","console","log","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","me","setState","catch","err","signup","login","logout","value","props","children","Component","withAuth","WrappedComponent","alertService","alert","locationArray","alertId","alertObj","AlertButton","handleClick","a","AlertService","createdAlert","_id","alertsent","to","className","onClick","type","withRouter","handleFormSubmit","event","preventDefault","handleChange","target","name","onSubmit","onChange","placeholder","Authform","showSignupForm","showLoginFrom","back","handleSignUpBtn","handleLogInBtn","IAmOkForm","alertpublic","alertcategory","alertstory","publicBoolean","category","gender","sexualorientation","race","ideology","religion","others","handleInputChange","checked","updatedCategory","item","publicAlert","categoryArray","push","objectForUpdate","publish","story","archive","delete","history","handlePublic","alertData","redirect","other","getActiveAlert","active","match","params","activeAlert","iAmOk","handleCancelBtn","handleFineBtn","iamfine","sent","redirectHome","alertScreen","class","hour","date","nets","map","net","netname","getuserData","length","mapboxgl","workerClass","MapboxWorker","accessToken","MAP_TOKEN","HeatMap","loadAlertsFromDB","heatmap","alerts","printAlerts","al","Marker","color","colorCode","draggable","setLngLat","location","addTo","viewLng","viewLat","viewZoom","mapContainer","createRef","Map","container","current","style","center","zoom","on","getCenter","lng","toFixed","lat","getZoom","ref","userService","senderId","senderArr","getCommonNets","senderPerson","ownNet","includes","peopleIdArray","netAlerts","person","senderPeople","personId","alertSender","dir","netService","netcode","put","netId","handleLeave","leave","Object","keys","members","CreateNet","updateUserData","JoinNet","join","goBack","input","updatedUser","handleCreateBtn","showCreateNet","showJoinNet","handleJoinBtn","AlertMap","loadAlertData","printAlert","alertMap","toggle","displayMenu","undefined","toggleMenu","width","routeProps","ComponentToShow","component","exact","path","render","MainPage","Netsform","AlertList","Profile","AlertUser","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.594fd68d.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}`,\n      withCredentials: true\n    });\n  }\n\n  signup( username, email, password ) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { username, email, password })\n      .then((response) => response.data);\n      // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login( username, password ) {\n    const pr = this.auth\n      .post(\"/auth/login\", { username, password })\n      .then((response) => response.data);\n      \n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth\n      .get(\"/auth/logout\")\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth\n      .get(\"/auth/me\")\n      .then((response) => {\n        console.log(response)\n        return response.data\n      });\n\n    return pr;\n  }\n}\n\n\nconst authService = new AuthService();\n\nexport default authService;","import React from 'react';\nimport authService from '../services/auth-service';\n\nconst { Consumer, Provider } = React.createContext();\n\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  }\n\n  me = () => {\n    authService.me()\n      .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\n      .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\n  }\n\n  componentDidMount () {\n    this.me()\n  }\n\n  signup = (username, email, password) => {\n    authService.signup( username, email, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  login = (username, password) => {\n    authService.login( username, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  }\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout, me } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return(\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout, me }}  >\n        {this.props.children}\n      </Provider>\n    )\n  }\n\n}\n\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  \n  return function (props) {\n      return(\n        <Consumer>\n          { (value) => {\n            const { isLoggedIn, isLoading, user, signup, login, logout, me } = value;\n\n            return (\n              <WrappedComponent \n                isLoggedIn={isLoggedIn} \n                isLoading={isLoading} \n                user={user} \n                signup={signup} \n                login={login} \n                logout={logout}\n                me={me}\n                {...props}\n              />\n            )\n\n          } }\n        </Consumer>\n        )\n    }\n}\n\n\nexport { AuthProvider, withAuth }","import axios from \"axios\";\n\nclass AlertService {\n  constructor() {\n    this.alert = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/alerts`,\n      withCredentials: true,\n    });\n  }\n\n  create(locationArray) {\n    const pr = this.alert\n    .post(\"/create\", { locationArray })\n    .then(({ data }) => data);\n    return pr;\n  }\n\n  active(alertId) {\n    const pr = this.alert.get(`/active/${alertId}`).then(({ data }) => data);\n    return pr;\n  }\n\n  delete(alertId) {\n    const pr = this.alert\n      .post(\"/delete\", { value: alertId })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  iamfine(alertId) {\n    const pr = this.alert\n      .post(\"/iamfine\", { value: alertId })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  archive(alertObj) {\n    const pr = this.alert.post(\"/archive\", alertObj).then(({ data }) => data);\n    return pr;\n  }\n\n  heatmap() {\n    const pr = this.alert.get(\"/heatmap\").then(({ data }) => data);\n    return pr;\n  }\n}\n\nconst alertService = new AlertService();\nexport default alertService;\n","import React, { Component } from \"react\";\nimport \"./AlertButton.css\";\n\nimport { withAuth } from \"./../../context/auth-context\";\nimport { withRouter, Redirect } from 'react-router-dom'\nimport AlertService from \"./../../services/alert-service\";\n\nclass AlertButton extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      alertsent: false,\n      alertId: \"\",\n      alert: {},\n    };\n  }\n\n  handleClick = async () => {\n\n    //TODO DYNAMIC GEOLOCATION HERE\n\n    const locationArray = [41.397680267661016, 2.1901371017810924]\n    const createdAlert = await AlertService.create(locationArray);\n    await this.props.me();\n    const alertId = createdAlert._id;\n    this.setState({ alertsent: true, alertId });\n  };\n\n  componentDidMount() {\n    this.setState({ alertsent: false });\n  }\n\n  render() {\n    if (this.state.alertsent)\n      return <Redirect to={`/alerts/${this.state.alertId}`} />;\n\n    return (\n      <div className='alert-container' onClick={this.handleClick}>\n        <button className='alert-button' type='submit'>\n          Alert\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withAuth(AlertButton));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../../context/auth-context\";\nimport \"./Signup.css\";\n\nclass Signup extends Component {\n  state = { username: \"\", email: \"\", password: \"\" };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, email, password } = this.state;\n    this.props.signup(username, email, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, email, password } = this.state;\n    return (\n      <div className='signupform'>\n        <h1>Welcome to Mutual</h1>\n\n        <form className='formInputs' onSubmit={this.handleFormSubmit}>\n          <input\n            type='text'\n            name='username'\n            value={username}\n            onChange={this.handleChange}\n            placeholder='Username'\n          />\n\n          <input\n            type='email'\n            name='email'\n            value={email}\n            onChange={this.handleChange}\n            placeholder='Email'\n          />\n\n          <input\n            type='password'\n            name='password'\n            value={password}\n            onChange={this.handleChange}\n            placeholder='Password'\n          />\n\n          <button type='submit'> SignUp </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;\n","import React, { Component } from \"react\";\nimport { withAuth } from './../../../context/auth-context';\n\nclass Login extends Component {\n  state = { username: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    // Call function coming from AuthProvider ( via withAuth )\n    this.props.login(username, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n\t\t\t<div>\n\t\t\t\t<h1>Login to Mutual</h1>\n\n\t\t\t\t<form className=\"formInputs\" onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='username'\n\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Username'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button type='submit'>Login</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react'\nimport './Authform.css'\n\nimport Signup from './Signup/Signup'\nimport Login from './Login/Login'\n\nclass Authform extends Component {\n  state = {\n    showSignupForm: false,\n    showLoginFrom: false,\n    back: false\n  }\n\n  handleSignUpBtn = () => {\n    this.setState({\n      showSignupForm: true,\n      showLoginFrom: false,\n    })\n  } \n  \n  handleLogInBtn = () => {\n    this.setState({\n      showSignupForm: false,\n      showLoginFrom: true,\n    })\n  } \n  \n  \n\n  render() {\n    return (\n\t\t\t<div className='authform'>\n\t\t\t\t{this.state.showSignupForm === false &&\n\t\t\t\tthis.state.showLoginFrom === false ? (\n\t\t\t\t\t<div className='authbuttons'>\n\t\t\t\t\t\t<h1>Your Mutual support</h1>\n\t\t\t\t\t\t<button onClick={this.handleSignUpBtn}>Sign Up</button>\n\t\t\t\t\t\t<button onClick={this.handleLogInBtn}>Log In</button>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\n\t\t\t\t{this.state.showSignupForm ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Signup />\n\t\t\t\t\t\t<button className='alreadymember' onClick={this.handleLogInBtn}>\n\t\t\t\t\t\t\tAlready a member? Log in\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\n\t\t\t\t{this.state.showLoginFrom ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t\t<button className='alreadymember' onClick={this.handleSignUpBtn}>\n\t\t\t\t\t\t\tNot a member? Sign up\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n  }\n}\n\nexport default Authform","import React, { Component } from \"react\";\nimport './IAmOkForm.css'\nimport { withRouter, Redirect, Link } from 'react-router-dom'\nimport { withAuth } from './../../context/auth-context'\nimport alertService from './../../services/alert-service'\n\nclass IAmOkForm extends Component {\n  state = {\n    alertpublic: '',\n    alertcategory: '',\n    alertstory: '',\n    alertId: '',\n    publicBoolean: false,\n    category: {\n      gender: false,\n      sexualorientation: false,\n      race: false,\n      ideology: false,\n      religion: false,\n      others: false,\n    },\n  };\n\n  handleInputChange = (event) => {\n    const value = event.target.checked;\n    const name = event.target.name;\n\n    const updatedCategory = this.state.category\n    updatedCategory[name] = value\n\n    this.setState({ category: updatedCategory });\n  }\n\n  componentDidMount() {\n    this.setState({ alertId: this.props.alertData._id, redirect: false });\n  }\n\n  handleFormSubmit = async (event) => {\n\n    event.preventDefault()\n    \n    const { publicBoolean, alertstory, category } = this.state\n    const publicAlert = publicBoolean\n\n    const categoryArray = [];\n    for (let item in category) {\n      if (category[item]) categoryArray.push(item);\n    }\n\n    const objectForUpdate = {\n      alertId: this.state.alertId,\n      publish: publicAlert,\n      category: categoryArray,\n      story: alertstory\n    }\n\n    if (publicBoolean) alertService.archive(objectForUpdate)\n    console.log(\"this should archive the alert\")\n    \n    if (!publicBoolean) alertService.delete(this.state.alertId)\n    console.log(\"this should delete the alert \")\n\n    this.props.me()\n    console.log(\"this should update the user data\")\n\n    this.props.history.push(\"/heatmap\")\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handlePublic = (event) => {\n    if (event.target.value === \"no\") {\n      this.setState({ publicBoolean: false });\n    } else {\n      this.setState({ publicBoolean: true });\n    }\n  };\n\n  async componentWillUnmount() {\n    await this.props.me()\n  }\n\n  render() {\n  \n    return (\n      <div>\n        <h1 className=\"alerth1\">Finished Alert</h1>\n\n        <form className='iamokform iamokflex' onSubmit={this.handleFormSubmit}>\n          <div className=\"yesorno iamokflex\">\n            <label>\n              Do you want this alertâ€™s information to go public anonymously?\n            </label>\n\n            <select name='alertpublic' onChange={this.handlePublic}>\n              <option value='no'>No</option>\n              <option value='yes'>Yes</option>\n            </select>\n          </div>\n\n          {this.state.publicBoolean ? (\n            \n            <div className=\"conditionalform\">\n\n              <div className=\"checkboxes\">\n                <h4>Please classify the type of discrimination</h4> \n\n                <label>\n                  <input \n                    name='gender'\n                    type='checkbox' \n                    checked={this.state.gender}\n                    onChange={this.handleInputChange}\n                  \n                  />\n                  Gender\n                </label>\n                <label>\n                  <input \n                    name='sexualorientation'\n                    type='checkbox' \n                    checked={this.state.sexualorientation}\n                    onChange={this.handleInputChange}\n                  />\n                  Sexual Orientation\n                </label>\n                <label>\n                  <input \n                    name='race'\n                    type='checkbox' \n                    checked={this.state.race}\n                    onChange={this.handleInputChange}\n                  />\n                  Race\n                </label>\n                <label>\n                  <input \n                    name='ideology'\n                    type='checkbox' \n                    checked={this.state.ideology}\n                    onChange={this.handleInputChange}\n                  />\n                  Ideology\n                </label>\n                <label>\n                  <input \n                    name='religion'\n                    type='checkbox' \n                    checked={this.state.religion}\n                    onChange={this.handleInputChange}\n                  />\n                  Religion\n                </label>\n                <label>\n                <input \n                  name='others'\n                  type='checkbox' \n                  checked={this.state.other}\n                  onChange={this.handleInputChange}\n                />\n                Other\n              </label>\n              </div>\n              \n              <h4>Would you like to share your story?</h4> \n              <textarea\n                name='alertstory'                \n                className='alertstory'\n                value={this.state.alertstory}\n                onChange={this.handleChange}\n                placeholder='Write your story here'\n              />\n            </div>\n          ) : null}\n\n            <button type='submit'>Send Alert Info</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withAuth(IAmOkForm));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport AlertService from \"../../services/alert-service\";\nimport IAmOkForm from \"../../components/IAmOkForm/IAmOkForm\";\nimport \"./AlertUser.css\";\n\nclass AlertUser extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      alert: {},\n      iAmOk: false,\n      sent: null\n    };\n  }\n\n  componentDidMount() {\n    this.getActiveAlert();\n    this.setState({ redirectHome: null });\n  }\n\n  getActiveAlert = async () => {\n    const activeAlert = await AlertService.active(\n      this.props.match.params.alertId\n    );\n    this.setState({ alert: activeAlert, iAmOk: false });\n  };\n\n  handleCancelBtn = async () => {\n    await AlertService.delete(this.state.alert._id);\n  };\n\n  handleFineBtn = async () => {\n    await AlertService.iamfine(this.state.alert._id);\n    this.setState({ iAmOk: true });\n  };\n\n  async componentWillUnmount() {\n    await this.props.me()\n  }\n\n  render() {\n    const alertScreen = (\n      <div className='user-alert'>\n        <div className='content'>\n          <span class='dot'></span>\n          <h4>Alert sent at:</h4>\n          <h2>{this.state.alert.hour}</h2>\n          <h2>{this.state.alert.date}</h2>\n\n          <h4>To the following nets:</h4>\n          {this.props.user.nets.map((net) => {\n            return <h2 key={net._id}>{net.netname}</h2>;\n          })}\n        </div>\n        <div className='buttons-div'>\n          <Link to='/'>\n            <button className='cancel-alert' onClick={this.handleCancelBtn}>\n              <p className='button-big'>Cancel</p>\n              <p className='button-baseline'>not an alert</p>\n            </button>\n          </Link>\n          <button className='finish-alert' onClick={this.handleFineBtn}>\n            <p className='button-big'>I'm Ok</p>\n            <p className='button-baseline'>finish alert</p>\n          </button>\n        </div>\n      </div>\n    );\n\n    return (\n      <>\n        {this.state.iAmOk ? (\n          <IAmOkForm alertData={this.state.alert} />\n        ) : (\n          alertScreen\n        )}\n      </>\n    );\n  }\n}\n\nexport default withAuth(AlertUser);\n","import React from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { Redirect } from \"react-router-dom\";\nimport AlertButton from \"./../../components/AlertButton/AlertButton\";\nimport Authform from \"./../../components/Authform/Authform\";\nimport AlertUser from \"./../AlertUser/AlertUser\";\n\n\nclass MainPage extends React.Component {\n\n  async componentDidMount() {\n    await this.getuserData();\n  }\n\n  getuserData = async () => {\n    await this.props.me();\n  };\n\n  render() {\n    return (\n      <div>\n        {!this.props.isLoggedIn ? <Authform data={this.getuserData} /> : null}\n\n        {this.props.isLoggedIn && this.props.user.nets.length === 0 ? (\n          <Redirect to='/nets' />\n        ) : null}\n\n        {this.props.isLoggedIn && this.props.user.nets.length > 0 ? (\n          <AlertButton />\n        ) : null}\n\n        {/* {this.props.user.userAlert ? <AlertUser />: null} */}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(MainPage);\n","import React, { Component } from \"react\";\nimport alertService from \"./../../services/alert-service\";\nimport \"./HeatMap.css\";\n\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl-csp\";\nimport MapboxWorker from \"mapbox-gl/dist/mapbox-gl-csp-worker\";\n\nmapboxgl.workerClass = MapboxWorker;\nmapboxgl.accessToken = process.env.MAP_TOKEN;\n\nclass HeatMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // Poblenou coords\n      viewLng: 2.1945,\n      viewLat: 41.3988,\n      viewZoom: 14,\n      // alertDB\n      alerts: [\n        {\n          \"active\": false,\n          \"person\": \"604783be98faba5c88f6e3c3\",\n          \"location\": [2.1908485, 41.3988098, 0],\n          \"publish\": true,\n          \"category\": [\"others\"],\n          \"story\": \"example story\",\n          \"hour\": \"15:18:38\",\n          \"date\": \"09/03/2021\",\n        },\n      ],\n      colorCode: {\n        gender: \"#bb00fd\", // purple\n        race: \"#0296f0\", // blue\n        sexualorientation: \"#fff400\", // yellow\n        ideology: \"#06bd00\", // light green\n        religion: \"#e7005d\", // pink\n        others: \"#ff3131\", // red\n      },\n    };\n    this.mapContainer = React.createRef();\n  }\n\n  loadAlertsFromDB = async () => {\n    const alerts = await alertService.heatmap();\n    this.setState({ alerts });\n  };\n\n  printAlerts = (heatmap) => {\n    this.state.alerts.map((al) => {\n      return new mapboxgl.Marker({\n        color: this.state.colorCode[al.category[0]],\n        draggable: false,\n      })\n        .setLngLat(al.location)\n        .addTo(heatmap);\n    });\n  };\n\n  async componentDidMount() {\n    await this.loadAlertsFromDB();\n\n    // MapBox map load with the state's data\n    const { viewLng, viewLat, viewZoom } = this.state;\n    const heatmap = new mapboxgl.Map({\n      container: this.mapContainer.current,\n      style: \"mapbox://styles/mapbox/bright-v8\",\n      center: [viewLng, viewLat],\n      zoom: viewZoom,\n    });\n\n    // MapBox map movement function\n    heatmap.on(\"move\", () => {\n      this.setState({\n        viewLng: heatmap.getCenter().lng.toFixed(4),\n        viewLat: heatmap.getCenter().lat.toFixed(4),\n        viewZoom: heatmap.getZoom().toFixed(2),\n      });\n    });\n\n    // Print the array of public alerts coming from the DB\n    this.printAlerts(heatmap);\n  }\n\n  async componentWillUnmount() {\n    await this.loadAlertsFromDB();\n  }\n\n  render() {\n\n    const { lng, lat, zoom } = this.state;\n    return (\n      <div>\n        <div ref={this.mapContainer} className='map-container' />\n      </div>\n    )\n  }\n}\nexport default HeatMap;\n","import axios from \"axios\";\n\nclass UserService {\n  constructor() {\n    this.user = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/users`,\n      withCredentials: true,\n    });\n  }\n\n  alertSender(senderId) {\n    const pr = this.user\n      .get(\"/alert-sender\", { senderId })\n      .then(({ data }) => data);\n    return pr;\n  }\n}\n\nconst userService = new UserService();\nexport default userService;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport { Link } from \"react-router-dom\";\nimport userService from \"./../../services/user-service\";\n\nclass Alerts extends Component {\n  state = {\n    senderArr: [],\n  };\n\n  async componentDidMount() {\n    await this.props.me();\n\n    const peopleIdArray = this.props.user.netAlerts.map( (alert) => {\n      return alert.person\n    })\n\n    console.log(\"this should be the id of people\", peopleIdArray)\n\n    const senderPeople = peopleIdArray.map( async (personId) => {\n      return await userService.alertSender(personId)\n    })\n\n    console.dir(\"this should be an array of populated people\", senderPeople)\n    \n    this.setState({ senderArr: senderPeople})\n\n    // const updatedNets = this.getCommonNets(senderPerson);\n    // this.setState({ alertSender: senderPerson, commonNets: updatedNets });\n  }\n\n  getCommonNets = (senderPerson) => {\n    const commonNets = this.props.user.nets.map((ownNet) => {\n      if (senderPerson.nets.includes(ownNet)) {\n        return ownNet.netname;\n      }\n      return ownNet.netname\n    });\n    return commonNets;\n  };\n\n  render() {\n    if (!this.state.senderArr.length === 0) {\n      return <p>Loading...</p>;\n    } else {\n      return (\n        <div>\n        <h1>Alert List here</h1>\n          {/* {this.props.user.netAlerts.map((alert) => {\n            return (\n              <div className='alert-card' key={alert._id}>\n                <h4>{this.state.alertSender.username}</h4>\n                <p>\n                  At {alert.hour}h, on{alert.date}\n                </p>\n                <p>\n                  From:{\" \"}\n                  {this.state.commonNets.map((net) => {\n                    return <p>{net}</p>;\n                  })}\n                </p>\n                <Link to={`/alerts/map/${alert._id}`}>\n                  <button>Map</button>\n                </Link>\n              </div>\n            );\n          })} */}\n        </div>\n      );\n    }\n  }\n}\n\nexport default withAuth(Alerts);\n","import axios from \"axios\";\n\nclass NetService {\n  constructor() {\n    this.net = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/nets`,\n      withCredentials: true,\n    });\n  }\n\n  create(netname, netcode) {\n    const pr = this.net\n      .post(\"/create\", { netname, netcode })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  join(netname, netcode) {\n    const pr = this.net\n      .put(\"/join\", { netname, netcode })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  leave(netId) {\n    const pr = this.net\n      .post(\"/leave\", { value: netId })\n      .then(({ data }) => data);\n    return pr;\n  }\n}\n\nconst netService = new NetService();\nexport default netService;\n","import React, { Component } from \"react\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport netService from \"./../../services/net-service\";\n\nclass Profile extends Component {\n  constructor (props) {\n    super()\n    this.state = {\n      nets: []\n    }\n  }\n\n  async componentDidMount() {\n    await this.props.me();\n    this.setState({ nets: this.props.user.nets });\n  }\n\n  handleLeave = async (netId) => {\n    await netService.leave(netId);\n    await this.props.me();\n    this.setState({ nets: this.props.user.nets });\n  };\n\n  render() {\n    console.log(\"this.props in profile\", this.props)\n    if (this.props.user.nets.length === 0) {\n      return (\n        <div>\n          <h1>You are not in any net</h1>\n          <Link to=\"/nets\">\n            <button>Join or Create</button>\n          </Link>\n        </div>\n      )\n    } else if (Object.keys(this.props.user.nets[0]).length === 24) {\n      return <p>Loading...</p>\n    } else {\n      return (\n        <div>\n          {this.props.user.nets.map((net) => {\n            return (\n              <div className='net-card' key={net._id}>\n                <h4>{net.netname}</h4>\n                <p>Access code: {net.netcode}</p>\n                <p>{net.members.length} members</p>\n                <button onClick={() => this.handleLeave(net._id)}>Leave</button>\n              </div>\n            );\n          })}\n          <Link to='/nets'>\n            <button>Join or Create a Net</button>\n          </Link>\n        </div>\n      )\n    }\n  }\n}\n\nexport default withAuth(Profile);\n","import React, { Component } from \"react\";\n\nimport netService from \"../../../services/net-service\"\n\nimport { withAuth } from \"../../../context/auth-context\";\nimport { withRouter } from 'react-router-dom'\n\nclass CreateNet extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = { \n\t\t\tnetname: \"\", \n\t\t\tnetcode: \"\",\n\t\t};\n\t}\n\n\tupdateUserData = () => {\n\t\tconsole.log(\"I am calling this.props.me to update User Data!!!\")\n\t\tthis.props.me()\n\t}\n\n\thandleFormSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\t\n\t\tconst { netname, netcode } = this.state;\n\t\t\n    await netService.create(netname, netcode)\n    \n\t\t\n\t\tthis.updateUserData()\n\t\t\n\t\tconsole.log(\"this.props in create net just before redirecting\", this.props)\n\t\t\n\t\tthis.setState( { netname: \"\", netcode: \"\" } );\n\t\t\n\t\tthis.props.history.push(\"/profile\")\n\t};\n\n\thandleChange = (event) => {\n\t\tconst { name, value } = event.target;\n\t\tthis.setState({ [name]: value });\n\t};\n\n\trender() {\n\t\tconsole.log(\"this.props in create net\", this.props)\n\t\tconst { netname, netcode } = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Create a Net</h1>\n\n\t\t\t\t<form className='formInputs' onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='netname'\n\t\t\t\t\t\tvalue={netname}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net name'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tname='netcode'\n\t\t\t\t\t\tvalue={netcode}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net code'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button type='submit'>Create</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(withAuth(CreateNet));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../../context/auth-context\";\nimport netService from \"../../../services/net-service\";\nimport { withRouter } from 'react-router-dom'\n\nclass JoinNet extends Component {\n\tconstructor (props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tnetname: \"\",\n\t\t\tnetcode: \"\",\n\t\t};\n\t}\n\n\thandleFormSubmit = async (event) => {\n\t\t\n\t\tevent.preventDefault();\n\n\t\tconst { netname, netcode } = this.state;\n\n\t\tawait netService.join(netname, netcode);\n\n\t\tthis.setState({ netname: \"\", netcode: \"\" });\n\t\tconsole.log(\"props after setState before push\", this.props)\n\t\t\n\t\tawait this.props.me()\n\t\t\n\t\tthis.props.history.push(\"/profile\")\n\t};\n\n\thandleChange = (event) => {\n\t\tconst { name, value } = event.target;\n\t\tthis.setState({ [name]: value });\n\t};\n\n\trender() {\n\t\tconst { netname, netcode } = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Join a Net</h1>\n\n\t\t\t\t<form className='formInputs' onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='netname'\n\t\t\t\t\t\tvalue={netname}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net name'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tname='netcode'\n\t\t\t\t\t\tvalue={netcode}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net code'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button type='submit'>Join</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(withAuth(JoinNet));\n","import React, { Component } from \"react\";\nimport \"./Netsform.css\";\n\nimport { withAuth } from \"../../context/auth-context\";\nimport CreateNet from \"./CreateNet/CreateNet\";\nimport JoinNet from \"./JoinNet/JoinNet\";\nimport { Redirect } from 'react-router-dom'\n\nclass Netsform extends Component {\n  constructor (props) {\n    super()\n    this.state = {\n      showCreateNet: false,\n      showJoinNet: false,\n      redirect: null,\n    };\n  }\n\n  goBack = async (input) => {\n\n    const updatedUser = await this.props.me()\n\n    console.log(\"updatedUser\", updatedUser)\n\n    this.setState( { redirect: input})\n  }\n\n  handleCreateBtn = () => {\n    this.setState({\n      showCreateNet: true,\n      showJoinNet: false,\n    });\n  };\n\n  handleJoinBtn = () => {\n    this.setState({\n      showCreateNet: false,\n      showJoinNet: true,\n    });\n  };\n\n  render() {\n\n    //if (this.state.redirect) return <Redirect to=\"/profile\" />\n\n    return (\n      <div className='authform'>\n        <h4>You are not part of any net yet</h4>\n        {this.state.showCreateNet === false &&\n        this.state.showJoinNet === false ? (\n          <div className='authbuttons'>\n            <button onClick={this.handleCreateBtn}>Create a net</button>\n            <button onClick={this.handleJoinBtn}>Join a net</button>\n          </div>\n        ) : null}\n\n        {this.state.showCreateNet ? (\n          <>\n            <CreateNet back={this.goBack} />\n            <button className='alreadymember' onClick={this.handleJoinBtn}>\n              Want to join a net?\n            </button>\n          </>\n        ) : null}\n\n        {this.state.showJoinNet ? (\n          <>\n            <JoinNet />\n\n\n\n            \n            <button className='alreadymember' onClick={this.handleCreateBtn}>\n              Want to create a new net?\n            </button>\n          </>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Netsform);\n","import React, { Component } from \"react\";\nimport alertService from \"./../../services/alert-service\";\nimport \"./AlertMap.css\";\nimport { Link } from \"react-router-dom\";\n\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl-csp\";\nimport MapboxWorker from \"mapbox-gl/dist/mapbox-gl-csp-worker\";\n\nmapboxgl.workerClass = MapboxWorker;\nmapboxgl.accessToken = process.env.MAP_TOKEN;\n  \nclass AlertMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewLng: 2.1945,\n      viewLat: 41.3988,\n      viewZoom: 16,\n      alert: [],\n    };\n    this.mapContainer = React.createRef();\n  }\n\n  loadAlertData = async () => {\n    const alert = await alertService.active(this.props.match.params.alertId);\n    this.setState({\n      alert,\n      viewLng: alert.location[0],\n      viewLat: alert.location[1],\n    });\n  };\n\n  printAlert = (map) => {\n    new mapboxgl.Marker({\n      color: \"#ff033e\",\n      draggable: false,\n    })\n      .setLngLat(this.state.alert.location)\n      .addTo(map)      \n  };\n\n  async componentDidMount() {\n    await this.loadAlertData();\n\n    // MapBox map load with the state's data\n    const { viewLng, viewLat, viewZoom } = this.state;\n    const alertMap = new mapboxgl.Map({\n      container: this.mapContainer.current,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [viewLng, viewLat],\n      zoom: viewZoom,\n    });\n\n    // MapBox map movement function\n    alertMap.on(\"move\", () => {\n      this.setState({\n        viewLng: alertMap.getCenter().lng.toFixed(4),\n        viewLat: alertMap.getCenter().lat.toFixed(4),\n        viewZoom: alertMap.getZoom().toFixed(2),\n      });\n    });\n\n    // Print the array of public alerts coming from the DB\n    this.printAlert(alertMap);\n  }\n\n  render() {\n    return (\n      <div>\n        <Link to='/alerts'>\n          <nav className='backNav'>Back</nav>\n        </Link>\n        <div ref={this.mapContainer} className='map-container' />\n      </div>\n    );\n  }\n}\n\nexport default AlertMap;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Menu.css\";\nimport { withAuth } from \"./../../context/auth-context\";\n\nfunction Menu(props) {\n  return (\n    <div className='menu flex'>\n      <div className='flex'>\n        <Link to='/'>\n          <button className='menu-button' onClick={props.toggle}>\n            Send an Alert\n          </button>\n        </Link>\n        <Link to='/alerts'>\n          {/* TODO Numbers of the notifications */}\n          <button className='menu-button' onClick={props.toggle}>\n            Alert List\n          </button>\n        </Link>\n        <Link to='/profile'>\n          <button className='menu-button' onClick={props.toggle}>\n            Manage Nets\n          </button>\n        </Link>\n        <Link to='/heatmap'>\n          <button className='menu-button' onClick={props.toggle}>\n            Heat Map\n          </button>\n        </Link>\n      </div>\n\n      <button\n        className='menu-button'\n        onClick={() => {\n          props.logout();\n          props.toggle();\n        }}\n      >\n        Logout\n      </button>\n    </div>\n  );\n}\n\nexport default withAuth(Menu);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport \"./Navbar.css\";\nimport Menu from \"./Menu\";\n\nclass Navbar extends Component {\n  state = {\n    displayMenu: undefined,\n  };\n\n  componentDidMount() {\n    this.setState({ displayMenu: false });\n  }\n\n  toggleMenu = () => {\n    this.state.displayMenu\n      ? this.setState({ displayMenu: false })\n      : this.setState({ displayMenu: true });\n  };\n\n  render() {\n    return (\n      <nav className='navbar'>\n        {this.props.isLoggedIn ? (\n          <>\n            {this.state.displayMenu ? (\n              <>\n                <Menu toggle={this.toggleMenu} />\n                <i className='fas fa-times' onClick={this.toggleMenu}></i>\n                <Link to='/' onClick={this.toggleMenu}>\n                  <p className='username'>\n                    {this.props.user && this.props.user.username}\n                  </p>\n                </Link>\n                {/* TODO Fix username to center of menu screen */}\n                <span style={{ width: \"width: 4.4vh\" }}></span>\n              </>\n            ) : (\n              <>\n                <i className='fas fa-bars' onClick={this.toggleMenu}></i>\n                <Link to='/'>\n                  <p className='username'>\n                    {this.props.user && this.props.user.username}\n                  </p>\n                </Link>\n                {this.props.user.netAlerts.length === 0 ? (\n                  <span className='notif-num zero'>\n                    <p>{this.props.user && this.props.user.netAlerts.length}</p>\n                  </span>\n                ) : (\n                  <Link to='/alerts'>\n                    <span className='notif-num'>\n                      <p>\n                        {this.props.user && this.props.user.netAlerts.length}\n                      </p>\n                    </span>\n                  </Link>\n                )}\n              </>\n            )}\n          </>\n        ) : null}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute(routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return \"Loading\";\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={function (props) {\n        if (!isLoggedIn) return <Redirect to='/' />;\n        else if (isLoggedIn) return <ComponentToShow {...props} />;\n      }}\n    />\n  );\n}\n\nexport default withAuth(PrivateRoute);\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { withAuth } from \"./context/auth-context\";\n\n// Pages\nimport MainPage from \"./pages/MainPage/MainPage\";\nimport HeatMap from \"./pages/HeatMap/HeatMap\";\nimport AlertList from \"./pages/AlertList/AlertList\";\nimport Profile from \"./pages/Profile/Profile\";\nimport AlertUser from \"./pages/AlertUser/AlertUser\";\nimport Netsform from \"./pages/Netsform/Netsform\";\nimport AlertMap from \"./pages/AlertMap/AlertMap\";\n\n// Components\nimport Navbar from \"./components/Navbar/Navbar\";\n// import AnonRoute from \"./components/AnonRoute/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute/PrivateRoute\";\n\nclass App extends Component {\n  state = { user: {} };\n\n  render() {\n    return (\n      <div className='container'>\n        <Navbar />\n        <Switch>\n          <Route exact path='/' component={MainPage} />\n          <PrivateRoute exact path='/nets' component={Netsform} />\n          <PrivateRoute exact path='/heatmap' component={HeatMap} />\n          <PrivateRoute exact path='/alerts' component={AlertList} />\n          <PrivateRoute exact path='/profile' component={Profile} />\n          <PrivateRoute exact path='/alerts/:alertId' component={AlertUser} />\n\n          <PrivateRoute\n            exact\n            path='/alerts/map/:alertId'\n            component={AlertMap}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}