{"version":3,"sources":["services/auth-service.js","context/auth-context.js","services/alert-service.js","components/AlertButton/AlertButton.js","components/Authform/Signup/Signup.js","components/Authform/Login/Login.js","components/Authform/Authform.js","pages/MainPage/MainPage.js","pages/HeatMap/HeatMap.js","services/user-service.js","pages/AlertList/AlertList.js","services/net-service.js","pages/Profile/Profile.js","components/IAmOkForm/IAmOkForm.js","pages/AlertUser/AlertUser.js","pages/Netsform/CreateNet/CreateNet.js","pages/Netsform/JoinNet/JoinNet.js","pages/Netsform/Netsform.js","pages/AlertMap/AlertMap.js","components/Navbar/Menu.js","components/Navbar/Navbar.js","components/PrivateRoute/PrivateRoute.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","username","email","password","post","then","response","data","get","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","me","setState","catch","err","signup","login","logout","console","log","value","props","children","Component","withAuth","WrappedComponent","alertService","alert","locationArray","alertId","alertObj","AlertButton","handleClick","a","AlertService","createdAlert","_id","alertsent","to","className","onClick","type","withRouter","handleFormSubmit","event","preventDefault","handleChange","target","name","onSubmit","autoComplete","onChange","placeholder","Authform","showSignupForm","showLoginFrom","back","handleSignUpBtn","handleLogInBtn","getuserData","nets","length","mapboxgl","workerClass","MapboxWorker","accessToken","HeatMap","loadAlertsFromDB","heatmap","alerts","printAlerts","map","al","Marker","color","colorCode","category","draggable","setLngLat","location","addTo","viewLng","viewLat","viewZoom","gender","race","sexualorientation","ideology","religion","others","mapContainer","createRef","Map","container","current","style","center","zoom","on","getCenter","lng","toFixed","lat","getZoom","ref","userService","userId","alertArray","peopleIdArray","netAlerts","person","findAllUsers","allUsers","peopleArray","filter","includes","commonNets","forEach","index","netString","personNet","meNet","String","netname","push","trim","date","hour","netService","net","netcode","put","netId","handleLeave","leave","Object","keys","members","IAmOkForm","alertpublic","alertcategory","alertstory","publicBoolean","handleInputChange","checked","updatedCategory","item","publicAlert","categoryArray","objectForUpdate","publish","story","archive","delete","history","handlePublic","alertData","redirect","other","getActiveAlert","active","match","params","activeAlert","iAmOk","handleCancelBtn","handleFineBtn","iamfine","sent","redirectHome","alertScreen","CreateNet","updateUserData","JoinNet","join","goBack","input","handleCreateBtn","showCreateNet","showJoinNet","handleJoinBtn","AlertMap","loadAlertData","printAlert","alertMap","id","toggle","displayMenu","undefined","toggleMenu","width","routeProps","ComponentToShow","component","exact","path","render","MainPage","Netsform","AlertList","Profile","AlertUser","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2f02003c.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}`,\n      withCredentials: true\n    });\n  }\n\n  signup(username, email, password) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { username, email, password })\n      .then((response) => response.data);\n    // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login(username, password) {\n    const pr = this.auth\n      .post(\"/auth/login\", { username, password })\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth.get(\"/auth/logout\").then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth.get(\"/auth/me\").then((response) => {\n      return response.data;\n    });\n\n    return pr;\n  }\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n","import React from 'react';\nimport authService from '../services/auth-service';\n\nconst { Consumer, Provider } = React.createContext();\n\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  }\n\n  me = () => {\n    authService.me()\n      .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\n      .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\n  }\n\n  componentDidMount () {\n    this.me()\n  }\n\n  signup = (username, email, password) => {\n    authService.signup( username, email, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  login = (username, password) => {\n    authService.login( username, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  }\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout, me } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return(\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout, me }}  >\n        {this.props.children}\n      </Provider>\n    )\n  }\n\n}\n\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  \n  return function (props) {\n      return(\n        <Consumer>\n          { (value) => {\n            const { isLoggedIn, isLoading, user, signup, login, logout, me } = value;\n\n            return (\n              <WrappedComponent \n                isLoggedIn={isLoggedIn} \n                isLoading={isLoading} \n                user={user} \n                signup={signup} \n                login={login} \n                logout={logout}\n                me={me}\n                {...props}\n              />\n            )\n\n          } }\n        </Consumer>\n        )\n    }\n}\n\n\nexport { AuthProvider, withAuth }","import axios from \"axios\";\n\nclass AlertService {\n  constructor() {\n    this.alert = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/alerts`,\n      withCredentials: true,\n    });\n  }\n\n  create(locationArray) {\n    const pr = this.alert\n    .post(\"/create\", { locationArray })\n    .then(({ data }) => data);\n    return pr;\n  }\n\n  active(alertId) {\n    const pr = this.alert.get(`/active/${alertId}`).then(({ data }) => data);\n    return pr;\n  }\n\n  delete(alertId) {\n    const pr = this.alert\n      .post(\"/delete\", { value: alertId })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  iamfine(alertId) {\n    const pr = this.alert\n      .post(\"/iamfine\", { value: alertId })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  archive(alertObj) {\n    const pr = this.alert.post(\"/archive\", alertObj).then(({ data }) => data);\n    return pr;\n  }\n\n  heatmap() {\n    const pr = this.alert.get(\"/heatmap\").then(({ data }) => data);\n    return pr;\n  }\n}\n\nconst alertService = new AlertService();\nexport default alertService;\n","import React, { Component } from \"react\";\nimport \"./AlertButton.css\";\n\nimport { withAuth } from \"./../../context/auth-context\";\nimport { withRouter, Redirect } from 'react-router-dom'\nimport AlertService from \"./../../services/alert-service\";\n\nclass AlertButton extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      alertsent: false,\n      alertId: \"\",\n      alert: {},\n    };\n  }\n\n  handleClick = async () => {\n\n    //     const locationArray = []\n    //     navigator.geolocation.getCurrentPosition( (position) => {\n    //     locationArray.push(position.coords.latitude)\n    //     locationArray.push(position.coords.longitude);\n    // })\n\n    const locationArray = [2.1901371017810924, 41.397680267661016]\n    \n    const createdAlert = await AlertService.create(locationArray);\n\n    await this.props.me();\n    const alertId = createdAlert._id;\n    this.setState({ alertsent: true, alertId });\n  };\n\n  componentDidMount() {\n    this.setState({ alertsent: false });\n  }\n\n  render() {\n    if (this.state.alertsent)\n      return <Redirect to={`/alerts/${this.state.alertId}`} />;\n\n    return (\n      <div className='alert-container' onClick={this.handleClick}>\n        <button className='alert-button' type='submit'>\n          Alert\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withAuth(AlertButton));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../../context/auth-context\";\nimport \"./Signup.css\";\n\nclass Signup extends Component {\n  state = { username: \"\", email: \"\", password: \"\" };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, email, password } = this.state;\n    this.props.signup(username, email, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, email, password } = this.state;\n    return (\n      <div className='signupform'>\n        <h1>Welcome to Mutual</h1>\n\n        <form\n          className='formInputs'\n          onSubmit={this.handleFormSubmit}\n          autoComplete='off'\n        >\n          <input\n            type='text'\n            name='username'\n            value={username}\n            onChange={this.handleChange}\n            placeholder='Username'\n          />\n\n          <input\n            type='email'\n            name='email'\n            value={email}\n            onChange={this.handleChange}\n            placeholder='Email'\n          />\n\n          <input\n            type='password'\n            name='password'\n            value={password}\n            onChange={this.handleChange}\n            placeholder='Password'\n          />\n\n          <button type='submit'> SignUp </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../../context/auth-context\";\n\nclass Login extends Component {\n  state = { username: \"\", password: \"\" };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    // Call function coming from AuthProvider ( via withAuth )\n    this.props.login(username, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div>\n        <h1>Login to Mutual</h1>\n\n        <form\n          className='formInputs'\n          onSubmit={this.handleFormSubmit}\n          autoComplete='nope'\n        >\n          <input\n            type='text'\n            name='username'\n            value={username}\n            onChange={this.handleChange}\n            placeholder='Username'\n          />\n\n          <input\n            type='password'\n            name='password'\n            value={password}\n            onChange={this.handleChange}\n            placeholder='Password'\n          />\n\n          <button type='submit'>Login</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react'\nimport './Authform.css'\n\nimport Signup from './Signup/Signup'\nimport Login from './Login/Login'\n\nclass Authform extends Component {\n  state = {\n    showSignupForm: false,\n    showLoginFrom: false,\n    back: false\n  }\n\n  handleSignUpBtn = () => {\n    this.setState({\n      showSignupForm: true,\n      showLoginFrom: false,\n    })\n  } \n  \n  handleLogInBtn = () => {\n    this.setState({\n      showSignupForm: false,\n      showLoginFrom: true,\n    })\n  } \n  \n  \n\n  render() {\n    return (\n\t\t\t<div className='authform'>\n\t\t\t\t{this.state.showSignupForm === false &&\n\t\t\t\tthis.state.showLoginFrom === false ? (\n\t\t\t\t\t<div className='authbuttons'>\n\t\t\t\t\t\t<h1>Your Mutual support</h1>\n\t\t\t\t\t\t<button onClick={this.handleSignUpBtn}>Sign Up</button>\n\t\t\t\t\t\t<button onClick={this.handleLogInBtn}>Log In</button>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\n\t\t\t\t{this.state.showSignupForm ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Signup />\n\t\t\t\t\t\t<button className='alreadymember' onClick={this.handleLogInBtn}>\n\t\t\t\t\t\t\tAlready a member? Log in\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\n\t\t\t\t{this.state.showLoginFrom ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t\t<button className='alreadymember' onClick={this.handleSignUpBtn}>\n\t\t\t\t\t\t\tNot a member? Sign up\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n  }\n}\n\nexport default Authform","import React from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { Redirect } from \"react-router-dom\";\nimport AlertButton from \"./../../components/AlertButton/AlertButton\";\nimport Authform from \"./../../components/Authform/Authform\";\n\nclass MainPage extends React.Component {\n  async componentDidMount() {\n    await this.getuserData();\n  }\n\n  getuserData = async () => {\n    await this.props.me();\n  };\n\n  render() {\n    return (\n      <div>\n        {!this.props.isLoggedIn ? <Authform data={this.getuserData} /> : null}\n\n        {this.props.isLoggedIn && this.props.user.nets.length === 0 ? (\n          <Redirect to='/nets' />\n        ) : null}\n\n        {this.props.isLoggedIn && this.props.user.nets.length > 0 ? (\n          <AlertButton />\n        ) : null}\n\n        {/* {this.props.user.userAlert ? <AlertUser />: null} */}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(MainPage);\n","import React, { Component } from \"react\";\nimport alertService from \"./../../services/alert-service\";\nimport \"./HeatMap.css\";\n\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl-csp\";\nimport MapboxWorker from \"mapbox-gl/dist/mapbox-gl-csp-worker\";\n\nmapboxgl.workerClass = MapboxWorker;\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoiZmVkZW11bmllbnRlIiwiYSI6ImNrbHh6ZnA2MjB1bzYydXJ6c3Zxd3JnaG0ifQ.MYXBWDkRnwRoUQn8Dz1RRg\";\n\nclass HeatMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // Poblenou coords\n      viewLng: 2.1945,\n      viewLat: 41.3988,\n      viewZoom: 14,\n      // alertDB\n      alerts: [\n        {\n          \"active\": false,\n          \"person\": \"604783be98faba5c88f6e3c3\",\n          \"location\": [2.1908485, 41.3988098, 0],\n          \"publish\": true,\n          \"category\": [\"others\"],\n          \"story\": \"example story\",\n          \"hour\": \"15:18:38\",\n          \"date\": \"09/03/2021\",\n        },\n      ],\n      colorCode: {\n        gender: \"#bb00fd\", // purple\n        race: \"#0296f0\", // blue\n        sexualorientation: \"#fff400\", // yellow\n        ideology: \"#06bd00\", // light green\n        religion: \"#e7005d\", // pink\n        others: \"#ff3131\", // red\n      },\n    };\n    this.mapContainer = React.createRef();\n  }\n\n  loadAlertsFromDB = async () => {\n    const alerts = await alertService.heatmap();\n    this.setState({ alerts });\n  };\n\n  printAlerts = (heatmap) => {\n    this.state.alerts.map((al) => {\n      return new mapboxgl.Marker({\n        color: this.state.colorCode[al.category[0]],\n        draggable: false,\n      })\n        .setLngLat(al.location)\n        .addTo(heatmap);\n    });\n  };\n\n  async componentDidMount() {\n    await this.loadAlertsFromDB();\n\n    // MapBox map load with the state's data\n    const { viewLng, viewLat, viewZoom } = this.state;\n    const heatmap = new mapboxgl.Map({\n      container: this.mapContainer.current,\n      style: \"mapbox://styles/mapbox/bright-v8\",\n      center: [viewLng, viewLat],\n      zoom: viewZoom,\n    });\n\n    // MapBox map movement function\n    heatmap.on(\"move\", () => {\n      this.setState({\n        viewLng: heatmap.getCenter().lng.toFixed(4),\n        viewLat: heatmap.getCenter().lat.toFixed(4),\n        viewZoom: heatmap.getZoom().toFixed(2),\n      });\n    });\n\n    // Print the array of public alerts coming from the DB\n    this.printAlerts(heatmap);\n  }\n\n  async componentWillUnmount() {\n    await this.loadAlertsFromDB();\n  }\n\n  render() {\n    return (\n      <div>\n        <div ref={this.mapContainer} className='map-container' />\n      </div>\n    );\n  }\n}\nexport default HeatMap;\n","import axios from \"axios\";\n\nclass UserService {\n  constructor() {\n    this.user = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/users`,\n      withCredentials: true,\n    });\n  }\n\n  findUser(userId) {\n    const pr = this.user\n      .get(`/user/${userId}`)\n      .then((response) => response.data);\n    return pr;\n  }\n\n  findAllUsers() {\n    const pr = this.user.get(\"/all\").then((response) => response.data);\n    return pr;\n  }\n}\n\nconst userService = new UserService();\nexport default userService;\n","import React, { Component } from \"react\";\nimport './AlertList.css'\nimport { withAuth } from \"../../context/auth-context\";\nimport { Link } from \"react-router-dom\";\nimport userService from \"./../../services/user-service\";\n\nclass Alerts extends Component {\n  state = {\n    alertArray: [],\n  };\n\n  async componentDidMount() {\n    await this.props.me();\n\n    const peopleIdArray = this.props.user.netAlerts.map((alert) => {\n      return alert.person;\n    });\n\n    const allUsers = await userService.findAllUsers();\n    const peopleArray = allUsers.filter((user) => {\n      if (peopleIdArray.includes(user._id)) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n\n    const commonNets = [];\n    peopleArray.forEach((person, index) => {\n      let netString = \"\";\n\n      person.nets.forEach((personNet) => {\n        this.props.user.nets.forEach((meNet) => {\n          if (String(personNet) === String(meNet._id)) {\n            netString += meNet.netname + \" \";\n          }\n        });\n      });\n      commonNets.push(netString.trim());\n    });\n\n    const alertArray = [];\n    this.props.user.netAlerts.forEach((alert, index) => {\n      const user = {};\n      user[\"alertId\"] = alert._id;\n      user[\"name\"] = peopleArray[index].username;\n      user[\"nets\"] = commonNets[index];\n      user[\"date\"] = alert.date;\n      user[\"hour\"] = alert.hour;\n      alertArray.push(user);\n    });\n\n    this.setState({ alertArray });\n  }\n\n  render() {\n    if (!this.state.alertArray.length === 0) {\n      return <h4>You have no alerts</h4>;\n    } else {\n      return (\n        <div className=\"alert-list-container\">\n          {this.state.alertArray.map((alert) => {\n            return (\n              <div className='alert-item' key={alert.alertId}>\n                <div className=\"alert-item-text\">\n                  <h3>{alert.name}</h3>\n                  <p className=\"alert-text-nets\">From: {alert.nets}</p>\n                  <p>\n                    {alert.hour} h, {alert.date}\n                  </p>\n                </div>\n                <div className=\"alert-list-btn\">\n                  <Link to={`/alerts/map/${alert.alertId}`}>\n                    <button>Map</button>\n                  </Link>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n  }\n}\n\nexport default withAuth(Alerts);\n","import axios from \"axios\";\n\nclass NetService {\n  constructor() {\n    this.net = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/nets`,\n      withCredentials: true,\n    });\n  }\n\n  create(netname, netcode) {\n    const pr = this.net\n      .post(\"/create\", { netname, netcode })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  join(netname, netcode) {\n    const pr = this.net\n      .put(\"/join\", { netname, netcode })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  leave(netId) {\n    const pr = this.net\n      .post(\"/leave\", { value: netId })\n      .then(({ data }) => data);\n    return pr;\n  }\n}\n\nconst netService = new NetService();\nexport default netService;\n","import React, { Component } from \"react\";\nimport \"./Profile.css\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport netService from \"./../../services/net-service\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      nets: [],\n    };\n  }\n\n  async componentDidMount() {\n    await this.props.me();\n    this.setState({ nets: this.props.user.nets });\n  }\n\n  handleLeave = async (netId) => {\n    await netService.leave(netId);\n    await this.props.me();\n    this.setState({ nets: this.props.user.nets });\n  };\n\n  render() {\n    if (this.props.user.nets.length === 0) {\n      return (\n        <div>\n          <h1>You are not in any net</h1>\n          <Link to='/nets'>\n            <button>Join or Create</button>\n          </Link>\n        </div>\n      );\n    } else if (Object.keys(this.props.user.nets[0]).length === 24) {\n      return <p>Loading...</p>;\n    } else {\n      return (\n        <div className='nets-list-container'>\n          {this.props.user.nets.map((net) => {\n            return (\n              <div className='net-card' key={net._id}>\n                <div className='net-card-info'>\n                  <h4>{net.netname}</h4>\n                  <p>Access code:</p>\n                  <p className='netcode'>{net.netcode}</p>\n                  <p>{net.members.length} members</p>\n                </div>\n                <div className='net-card-btn'>\n                  <button onClick={() => this.handleLeave(net._id)}>\n                    Leave\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n          <Link to='/nets'>\n            <button className='joinorcreatebtn'>Join or Create a Net</button>\n          </Link>\n        </div>\n      );\n    }\n  }\n}\n\nexport default withAuth(Profile);\n","import React, { Component } from \"react\";\nimport './IAmOkForm.css'\nimport { withRouter } from 'react-router-dom'\nimport { withAuth } from './../../context/auth-context'\nimport alertService from './../../services/alert-service'\n\nclass IAmOkForm extends Component {\n  state = {\n    alertpublic: \"\",\n    alertcategory: \"\",\n    alertstory: \"\",\n    alertId: \"\",\n    publicBoolean: false,\n    category: {\n      gender: false,\n      sexualorientation: false,\n      race: false,\n      ideology: false,\n      religion: false,\n      others: false,\n    },\n  };\n\n  handleInputChange = (event) => {\n    const value = event.target.checked;\n    const name = event.target.name;\n\n    const updatedCategory = this.state.category;\n    updatedCategory[name] = value;\n\n    this.setState({ category: updatedCategory });\n  };\n\n  componentDidMount() {\n    this.setState({ alertId: this.props.alertData._id, redirect: false });\n  }\n\n  handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    const { publicBoolean, alertstory, category } = this.state;\n    const publicAlert = publicBoolean;\n\n    const categoryArray = [];\n    for (let item in category) {\n      if (category[item]) categoryArray.push(item);\n    }\n\n    const objectForUpdate = {\n      alertId: this.state.alertId,\n      publish: publicAlert,\n      category: categoryArray,\n      story: alertstory,\n    };\n\n    if (publicBoolean) alertService.archive(objectForUpdate)\n    \n    if (!publicBoolean) alertService.delete(this.state.alertId)\n\n    this.props.me()\n\n    this.props.me();\n    console.log(\"this should update the user data\");\n\n    this.props.history.push(\"/heatmap\");\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handlePublic = (event) => {\n    if (event.target.value === \"no\") {\n      this.setState({ publicBoolean: false });\n    } else {\n      this.setState({ publicBoolean: true });\n    }\n  };\n\n  async componentWillUnmount() {\n    await this.props.me();\n  }\n\n  render() {\n    return (\n      <div>\n        <h1 className='alerth1'>Finished Alert</h1>\n\n        <form className='iamokform iamokflex' onSubmit={this.handleFormSubmit}>\n          <div className='yesorno iamokflex'>\n            <label>\n              Do you want this alertâ€™s information to go public anonymously?\n            </label>\n\n            <select name='alertpublic' onChange={this.handlePublic}>\n              <option value='no'>No</option>\n              <option value='yes'>Yes</option>\n            </select>\n          </div>\n\n          {this.state.publicBoolean ? (\n            <div className='conditionalform'>\n              <div className='checkboxes'>\n                <h4>Please classify the type of discrimination</h4>\n\n                <label>\n                  <input\n                    name='gender'\n                    type='checkbox'\n                    checked={this.state.gender}\n                    onChange={this.handleInputChange}\n                  />\n                  Gender\n                </label>\n                <label>\n                  <input\n                    name='sexualorientation'\n                    type='checkbox'\n                    checked={this.state.sexualorientation}\n                    onChange={this.handleInputChange}\n                  />\n                  Sexual Orientation\n                </label>\n                <label>\n                  <input\n                    name='race'\n                    type='checkbox'\n                    checked={this.state.race}\n                    onChange={this.handleInputChange}\n                  />\n                  Race\n                </label>\n                <label>\n                  <input\n                    name='ideology'\n                    type='checkbox'\n                    checked={this.state.ideology}\n                    onChange={this.handleInputChange}\n                  />\n                  Ideology\n                </label>\n                <label>\n                  <input\n                    name='religion'\n                    type='checkbox'\n                    checked={this.state.religion}\n                    onChange={this.handleInputChange}\n                  />\n                  Religion\n                </label>\n                <label>\n                  <input\n                    name='others'\n                    type='checkbox'\n                    checked={this.state.other}\n                    onChange={this.handleInputChange}\n                  />\n                  Other\n                </label>\n              </div>\n\n              <h4>Would you like to share your story?</h4>\n              <textarea\n                name='alertstory'\n                className='alertstory'\n                value={this.state.alertstory}\n                onChange={this.handleChange}\n                placeholder='Write your story here'\n              />\n            </div>\n          ) : null}\n\n          <button type='submit'>Send Alert Info</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withAuth(IAmOkForm));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport { Link } from \"react-router-dom\";\nimport AlertService from \"../../services/alert-service\";\nimport IAmOkForm from \"../../components/IAmOkForm/IAmOkForm\";\nimport \"./AlertUser.css\";\n\nclass AlertUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      alert: {},\n      iAmOk: false,\n      sent: null,\n    };\n  }\n\n  componentDidMount() {\n    this.getActiveAlert();\n    this.setState({ redirectHome: null });\n  }\n\n  getActiveAlert = async () => {\n    const activeAlert = await AlertService.active(\n      this.props.match.params.alertId\n    );\n    this.setState({ alert: activeAlert, iAmOk: false });\n  };\n\n  handleCancelBtn = async () => {\n    await AlertService.delete(this.state.alert._id);\n    await this.props.me();\n  };\n\n  handleFineBtn = async () => {\n    await AlertService.iamfine(this.state.alert._id);\n    this.setState({ iAmOk: true });\n  };\n\n  async componentWillUnmount() {\n    await this.props.me();\n  }\n\n  render() {\n    const alertScreen = (\n      <div className='user-alert'>\n        <div className='content'>\n          <span className='dot'></span>\n          <h4>Alert sent at:</h4>\n          <h2>{this.state.alert.hour}</h2>\n          <h2>{this.state.alert.date}</h2>\n\n          <h4>To the following nets:</h4>\n          {this.props.user.nets.map((net) => {\n            return <h2 key={net._id}>{net.netname}</h2>;\n          })}\n        </div>\n        <div className='buttons-div'>\n          <Link to='/'>\n            <button className='cancel-alert' onClick={this.handleCancelBtn}>\n              <p className='button-big'>Cancel</p>\n              <p className='button-baseline'>not an alert</p>\n            </button>\n          </Link>\n          <button className='finish-alert' onClick={this.handleFineBtn}>\n            <p className='button-big'>I'm Ok</p>\n            <p className='button-baseline'>finish alert</p>\n          </button>\n        </div>\n      </div>\n    );\n\n    return (\n      <>\n        {this.state.iAmOk ? (\n          <IAmOkForm alertData={this.state.alert} />\n        ) : (\n          alertScreen\n        )}\n      </>\n    );\n  }\n}\n\nexport default withAuth(AlertUser);\n","import React, { Component } from \"react\";\n\nimport netService from \"../../../services/net-service\"\n\nimport { withAuth } from \"../../../context/auth-context\";\nimport { withRouter } from 'react-router-dom'\n\nclass CreateNet extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = { \n\t\t\tnetname: \"\", \n\t\t\tnetcode: \"\",\n\t\t};\n\t}\n\n\tupdateUserData = () => {\n\t\tthis.props.me()\n\t}\n\n\thandleFormSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\t\n\t\tconst { netname, netcode } = this.state;\n\t\t\n    await netService.create(netname, netcode)\n    \n\t\t\n\t\tthis.updateUserData()\n\t\t\n\t\t\n\t\tthis.setState( { netname: \"\", netcode: \"\" } );\n\t\t\n\t\tthis.props.history.push(\"/profile\")\n\t};\n\n\thandleChange = (event) => {\n\t\tconst { name, value } = event.target;\n\t\tthis.setState({ [name]: value });\n\t};\n\n\trender() {\n\t\tconst { netname, netcode } = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Create a Net</h1>\n\n\t\t\t\t<form className='formInputs' onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='netname'\n\t\t\t\t\t\tvalue={netname}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net name'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tname='netcode'\n\t\t\t\t\t\tvalue={netcode}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net code'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button type='submit'>Create</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(withAuth(CreateNet));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../../context/auth-context\";\nimport netService from \"../../../services/net-service\";\nimport { withRouter } from 'react-router-dom'\n\nclass JoinNet extends Component {\n\tconstructor (props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tnetname: \"\",\n\t\t\tnetcode: \"\",\n\t\t};\n\t}\n\n\thandleFormSubmit = async (event) => {\n\t\t\n\t\tevent.preventDefault();\n\n\t\tconst { netname, netcode } = this.state;\n\n\t\tawait netService.join(netname, netcode);\n\n\t\tthis.setState({ netname: \"\", netcode: \"\" });\n\t\t\n\t\tawait this.props.me()\n\t\t\n\t\tthis.props.history.push(\"/profile\")\n\t};\n\n\thandleChange = (event) => {\n\t\tconst { name, value } = event.target;\n\t\tthis.setState({ [name]: value });\n\t};\n\n\trender() {\n\t\tconst { netname, netcode } = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Join a Net</h1>\n\n\t\t\t\t<form className='formInputs' onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='netname'\n\t\t\t\t\t\tvalue={netname}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net name'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tname='netcode'\n\t\t\t\t\t\tvalue={netcode}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net code'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button type='submit'>Join</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(withAuth(JoinNet));\n","import React, { Component } from \"react\";\nimport \"./Netsform.css\";\n\nimport { withAuth } from \"../../context/auth-context\";\nimport CreateNet from \"./CreateNet/CreateNet\";\nimport JoinNet from \"./JoinNet/JoinNet\";\n\nclass Netsform extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      showCreateNet: false,\n      showJoinNet: false,\n      redirect: null,\n    };\n  }\n\n  goBack = async (input) => {\n    const updatedUser = await this.props.me();\n\n    await this.props.me()\n\n    this.setState( { redirect: input})\n  }\n\n  handleCreateBtn = () => {\n    this.setState({\n      showCreateNet: true,\n      showJoinNet: false,\n    });\n  };\n\n  handleJoinBtn = () => {\n    this.setState({\n      showCreateNet: false,\n      showJoinNet: true,\n    });\n  };\n\n  render() {\n    //if (this.state.redirect) return <Redirect to=\"/profile\" />\n\n    return (\n      <div className='authform'>\n        <h4>You are not part of any net yet</h4>\n        {this.state.showCreateNet === false &&\n        this.state.showJoinNet === false ? (\n          <div className='authbuttons'>\n            <button onClick={this.handleCreateBtn}>Create a net</button>\n            <button onClick={this.handleJoinBtn}>Join a net</button>\n          </div>\n        ) : null}\n\n        {this.state.showCreateNet ? (\n          <>\n            <CreateNet back={this.goBack} />\n            <button className='alreadymember' onClick={this.handleJoinBtn}>\n              Want to join a net?\n            </button>\n          </>\n        ) : null}\n\n        {this.state.showJoinNet ? (\n          <>\n            <JoinNet />\n\n            <button className='alreadymember' onClick={this.handleCreateBtn}>\n              Want to create a new net?\n            </button>\n          </>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Netsform);\n","import React, { Component } from \"react\";\nimport alertService from \"./../../services/alert-service\";\nimport \"./AlertMap.css\";\nimport { Link } from \"react-router-dom\";\n\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl-csp\";\nimport MapboxWorker from \"mapbox-gl/dist/mapbox-gl-csp-worker\";\n\nmapboxgl.workerClass = MapboxWorker;\nmapboxgl.accessToken = \"pk.eyJ1IjoiZmVkZW11bmllbnRlIiwiYSI6ImNrbHh6ZnA2MjB1bzYydXJ6c3Zxd3JnaG0ifQ.MYXBWDkRnwRoUQn8Dz1RRg\"\n  \nclass AlertMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewLat: 41.3988,\n      viewLng: 2.1945,\n      viewZoom: 16,\n      alert: null\n    };\n    this.mapContainer = React.createRef();\n  }\n\n  loadAlertData = async () => {\n    const alert = await alertService.active(this.props.match.params.alertId);\n    this.setState({\n      alert,\n      viewLng: alert.location[0],\n      viewLat: alert.location[1],\n    });\n  };\n\n  printAlert = (map) => {\n    new mapboxgl.Marker({\n      color: \"#ff033e\",\n      draggable: false,\n    })\n      .setLngLat(this.state.alert.location)\n      .addTo(map)      \n  };\n\n  async componentDidMount() {\n    await this.loadAlertData();\n\n    // MapBox map load with the state's data\n    const { viewLng, viewLat, viewZoom } = this.state;\n    const alertMap = new mapboxgl.Map({\n      container: this.mapContainer.current,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [viewLng, viewLat],\n      zoom: viewZoom,\n    });\n\n    // MapBox map movement function\n    alertMap.on(\"move\", () => {\n      this.setState({\n        viewLng: alertMap.getCenter().lng.toFixed(4),\n        viewLat: alertMap.getCenter().lat.toFixed(4),\n        viewZoom: alertMap.getZoom().toFixed(2),\n      });\n    });\n\n    // Print the array of public alerts coming from the DB\n    this.printAlert(alertMap);\n  }\n\n  render() {\n    return (\n      <div>\n        <div ref={this.mapContainer} className='map-container' id=\"single-alert-map\"/>\n      {this.state.alert \n      ? <div className=\"alert-user-info\">\n        <Link to='/alerts'>\n          Back\n        </Link>\n        <div className=\"alert-bar-text\">\n          <p>Sent by:</p> \n          <p className=\"alert-bar-username\">{this.state.alert.person.username}</p> \n          <p>{this.state.alert.hour}</p>  \n          <p>{this.state.alert.date}</p>\n        </div>\n        </div>\n      : null\n      }\n     \n      </div>\n    )\n  }\n}\n\nexport default AlertMap;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Menu.css\";\nimport { withAuth } from \"./../../context/auth-context\";\n\nfunction Menu(props) {\n  return (\n    <div className='menu flex'>\n      <div className='flex'>\n        <Link to='/'>\n          <button className='menu-button' onClick={props.toggle}>\n            Send an Alert\n          </button>\n        </Link>\n        <Link to='/alerts'>\n\n          <button className='menu-button' onClick={props.toggle}>\n            Alert List\n          </button>\n        </Link>\n        <Link to='/profile'>\n          <button className='menu-button' onClick={props.toggle}>\n            Manage Nets\n          </button>\n        </Link>\n        <Link to='/heatmap'>\n          <button className='menu-button' onClick={props.toggle}>\n            Heat Map\n          </button>\n        </Link>\n      </div>\n\n      <button\n        className='menu-button'\n        onClick={() => {\n          props.logout();\n          props.toggle();\n        }}\n      >\n        Logout\n      </button>\n    </div>\n  );\n}\n\nexport default withAuth(Menu);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport \"./Navbar.css\";\nimport Menu from \"./Menu\";\n\nclass Navbar extends Component {\n  state = {\n    displayMenu: undefined,\n  };\n\n  componentDidMount() {\n    this.setState({ displayMenu: false });\n  }\n\n  toggleMenu = () => {\n    this.state.displayMenu\n      ? this.setState({ displayMenu: false })\n      : this.setState({ displayMenu: true });\n  };\n\n  render() {\n    return (\n      <nav className='navbar'>\n        {this.props.isLoggedIn ? (\n          <>\n            {this.state.displayMenu ? (\n              <>\n                <Menu toggle={this.toggleMenu} />\n                <i className='fas fa-times' onClick={this.toggleMenu}></i>\n                <Link to='/' onClick={this.toggleMenu}>\n                  <p className='username'>\n                    {this.props.user && this.props.user.username}\n                  </p>\n                </Link>\n                {/* TODO Fix username to center of menu screen */}\n                <span style={{ width: \"width: 4.4vh\" }}></span>\n              </>\n            ) : (\n              <>\n                <i className='fas fa-bars' onClick={this.toggleMenu}></i>\n                <Link to='/'>\n                  <p className='username'>\n                    {this.props.user && this.props.user.username}\n                  </p>\n                </Link>\n                {this.props.user.netAlerts.length === 0 ? (\n                  <span className='notif-num zero'>\n                    <p>{this.props.user && this.props.user.netAlerts.length}</p>\n                  </span>\n                ) : (\n                  <Link to='/alerts'>\n                    <span className='notif-num'>\n                      <p>\n                        {this.props.user && this.props.user.netAlerts.length}\n                      </p>\n                    </span>\n                  </Link>\n                )}\n              </>\n            )}\n          </>\n        ) : null}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute(routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return \"Loading\";\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={function (props) {\n        if (!isLoggedIn) return <Redirect to='/' />;\n        else if (isLoggedIn) return <ComponentToShow {...props} />;\n      }}\n    />\n  );\n}\n\nexport default withAuth(PrivateRoute);\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { withAuth } from \"./context/auth-context\";\n\n// Pages\nimport MainPage from \"./pages/MainPage/MainPage\";\nimport HeatMap from \"./pages/HeatMap/HeatMap\";\nimport AlertList from \"./pages/AlertList/AlertList\";\nimport Profile from \"./pages/Profile/Profile\";\nimport AlertUser from \"./pages/AlertUser/AlertUser\";\nimport Netsform from \"./pages/Netsform/Netsform\";\nimport AlertMap from \"./pages/AlertMap/AlertMap\";\n\n// Components\nimport Navbar from \"./components/Navbar/Navbar\";\n// import AnonRoute from \"./components/AnonRoute/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute/PrivateRoute\";\n\nclass App extends Component {\n  state = { user: {} };\n\n  render() {\n    return (\n      <div className='container'>\n        <Navbar />\n        <Switch>\n          <Route exact path='/' component={MainPage} />\n          <PrivateRoute exact path='/nets' component={Netsform} />\n          <PrivateRoute exact path='/heatmap' component={HeatMap} />\n          <PrivateRoute exact path='/alerts' component={AlertList} />\n          <PrivateRoute exact path='/profile' component={Profile} />\n          <PrivateRoute exact path='/alerts/:alertId' component={AlertUser} />\n\n          <PrivateRoute\n            exact\n            path='/alerts/map/:alertId'\n            component={AlertMap}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}