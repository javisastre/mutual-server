{"version":3,"sources":["services/auth-service.js","context/auth-context.js","services/alert-service.js","components/AlertButton/AlertButton.js","components/IAmOkForm/IAmOkForm.js","pages/AlertUser/AlertUser.js","components/Authform/Signup/Signup.js","components/Authform/Login/Login.js","components/Authform/Authform.js","pages/MainPage/MainPage.js","pages/HeatMap/HeatMap.js","services/user-service.js","pages/AlertList/AlertList.js","services/net-service.js","pages/Profile/Profile.js","pages/Netsform/CreateNet/CreateNet.js","pages/Netsform/JoinNet/JoinNet.js","pages/Netsform/Netsform.js","pages/AlertMap/AlertMap.js","components/Navbar/Menu.js","components/Navbar/Navbar.js","components/PrivateRoute/PrivateRoute.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","REACT_APP_API_URL","withCredentials","username","email","password","post","then","response","data","get","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","me","setState","catch","err","signup","login","logout","console","log","value","props","children","Component","withAuth","WrappedComponent","alertService","alert","locationArray","alertId","alertObj","withRouter","handleClick","a","AlertService","activateAlert","className","onClick","type","IAmOkForm","handleInputChange","event","target","checked","name","updatedCategory","category","handleFormSubmit","preventDefault","publicBoolean","alertstory","publicAlert","categoryArray","item","push","objectForUpdate","publish","story","archive","delete","deactivateAlert","handleChange","handlePublic","alertpublic","alertcategory","gender","sexualorientation","race","ideology","religion","others","userAlert","_id","onSubmit","onChange","other","placeholder","handleCancelBtn","handleFineBtn","iamfine","iAmOk","hour","date","nets","map","net","netname","autoComplete","Authform","showSignupForm","showLoginFrom","back","handleSignUpBtn","handleLogInBtn","hasAlert","getuserData","length","to","mapboxgl","workerClass","MapboxWorker","accessToken","HeatMap","loadAlertsFromDB","heatmap","alerts","printAlerts","al","Marker","color","colorCode","draggable","setLngLat","location","addTo","viewLng","viewLat","viewZoom","mapContainer","createRef","Map","container","current","style","center","zoom","on","getCenter","lng","toFixed","lat","getZoom","ref","userService","userId","alertArray","peopleIdArray","netAlerts","person","findAllUsers","allUsers","peopleArray","filter","includes","commonNets","forEach","index","netString","personNet","meNet","String","trim","netService","netcode","put","netId","handleLeave","leave","Object","keys","members","CreateNet","updateUserData","history","JoinNet","join","goBack","input","redirect","handleCreateBtn","showCreateNet","showJoinNet","handleJoinBtn","AlertMap","loadAlertData","active","match","params","printAlert","alertMap","id","toggle","displayMenu","undefined","toggleMenu","width","routeProps","ComponentToShow","component","exact","path","render","MainPage","Netsform","AlertList","Profile","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5bdb03b6.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}`,\n      withCredentials: true\n    });\n  }\n\n  signup(username, email, password) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { username, email, password })\n      .then((response) => response.data);\n    // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login(username, password) {\n    const pr = this.auth\n      .post(\"/auth/login\", { username, password })\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth.get(\"/auth/logout\").then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth.get(\"/auth/me\").then((response) => {\n      return response.data;\n    });\n\n    return pr;\n  }\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n","import React from 'react';\nimport authService from '../services/auth-service';\n\nconst { Consumer, Provider } = React.createContext();\n\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  }\n\n  me = () => {\n    authService.me()\n      .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\n      .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\n  }\n\n  componentDidMount () {\n    this.me()\n  }\n\n  signup = (username, email, password) => {\n    authService.signup( username, email, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  login = (username, password) => {\n    authService.login( username, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  }\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout, me } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return(\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout, me }}  >\n        {this.props.children}\n      </Provider>\n    )\n  }\n\n}\n\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  \n  return function (props) {\n      return(\n        <Consumer>\n          { (value) => {\n            const { isLoggedIn, isLoading, user, signup, login, logout, me } = value;\n\n            return (\n              <WrappedComponent \n                isLoggedIn={isLoggedIn} \n                isLoading={isLoading} \n                user={user} \n                signup={signup} \n                login={login} \n                logout={logout}\n                me={me}\n                {...props}\n              />\n            )\n\n          } }\n        </Consumer>\n        )\n    }\n}\n\n\nexport { AuthProvider, withAuth }","import axios from \"axios\";\n\nclass AlertService {\n  constructor() {\n    this.alert = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/alerts`,\n      withCredentials: true,\n    });\n  }\n\n  create(locationArray) {\n    const pr = this.alert\n    .post(\"/create\", { locationArray })\n    .then(({ data }) => data);\n    return pr;\n  }\n\n  active(alertId) {\n    const pr = this.alert.get(`/active/${alertId}`).then(({ data }) => data);\n    return pr;\n  }\n\n  delete(alertId) {\n    const pr = this.alert\n      .post(\"/delete\", { value: alertId })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  iamfine(alertId) {\n    const pr = this.alert\n      .post(\"/iamfine\", { value: alertId })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  archive(alertObj) {\n    const pr = this.alert.post(\"/archive\", alertObj).then(({ data }) => data);\n    return pr;\n  }\n\n  heatmap() {\n    const pr = this.alert.get(\"/heatmap\").then(({ data }) => data);\n    return pr;\n  }\n}\n\nconst alertService = new AlertService();\nexport default alertService;\n","import React, { Component } from \"react\";\nimport \"./AlertButton.css\";\n\nimport { withAuth } from \"./../../context/auth-context\";\nimport { withRouter } from 'react-router-dom'\nimport AlertService from \"./../../services/alert-service\";\n\nfunction AlertButton (props) {\n   const handleClick = async () => {\n\n    //     const locationArray = []\n    //     navigator.geolocation.getCurrentPosition( (position) => {\n    //     locationArray.push(position.coords.latitude)\n    //     locationArray.push(position.coords.longitude);\n    // })\n    const locationArray = [2.1901371017810924, 41.397680267661016]\n    await AlertService.create(locationArray);\n    await props.me();    \n    props.activateAlert()\n    console.log(\"activated alert from AlertButton\")\n  };\n\n  return (\n    <div className='alert-container' onClick={handleClick}>\n      <button className='alert-button' type='submit'>\n        Alert\n      </button>\n    </div>\n  );\n}\n\nexport default withRouter(withAuth(AlertButton));\n","import React, { Component } from \"react\";\nimport './IAmOkForm.css'\nimport { withRouter } from 'react-router-dom'\nimport { withAuth } from './../../context/auth-context'\nimport alertService from './../../services/alert-service'\n\nclass IAmOkForm extends Component {\n  \n  constructor (props) {\n    super(props) \n    this.state = {\n      alertpublic: \"\",\n      alertcategory: \"\",\n      alertstory: \"\",\n      alertId: \"\",\n      publicBoolean: false,\n      category: {\n        gender: false,\n        sexualorientation: false,\n        race: false,\n        ideology: false,\n        religion: false,\n        others: false,\n      },\n  }\n  };\n\n  handleInputChange = (event) => {\n    const value = event.target.checked;\n    const name = event.target.name;\n\n    const updatedCategory = this.state.category;\n    updatedCategory[name] = value;\n\n    this.setState({ category: updatedCategory });\n  };\n\n  componentDidMount() {\n    this.setState({ alertId: this.props.user.userAlert._id });\n  }\n\n  handleFormSubmit = (event) => {\n    \n    event.preventDefault();\n\n    const { publicBoolean, alertstory, category } = this.state;\n    const publicAlert = publicBoolean;\n\n    const categoryArray = [];\n    for (let item in category) {\n      if (category[item]) categoryArray.push(item);\n    }\n\n    const objectForUpdate = {\n      alertId: this.state.alertId,\n      publish: publicAlert,\n      category: categoryArray,\n      story: alertstory,\n    };\n\n    if (publicBoolean) alertService.archive(objectForUpdate)\n    \n    if (!publicBoolean) alertService.delete(this.state.alertId)\n\n    this.props.deactivateAlert()\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handlePublic = (event) => {\n    if (event.target.value === \"no\") {\n      this.setState({ publicBoolean: false });\n    } else {\n      this.setState({ publicBoolean: true });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <h1 className='alerth1'>Finished Alert</h1>\n\n        <form className='iamokform iamokflex' onSubmit={this.handleFormSubmit}>\n          <div className='yesorno iamokflex'>\n            <label>\n              Do you want this alert’s information to go public anonymously?\n            </label>\n\n            <select name='alertpublic' onChange={this.handlePublic}>\n              <option value='no'>No</option>\n              <option value='yes'>Yes</option>\n            </select>\n          </div>\n\n          {this.state.publicBoolean ? (\n            <div className='conditionalform'>\n              <div className='checkboxes'>\n                <h4>Please classify the type of discrimination</h4>\n\n                <label>\n                  <input\n                    name='gender'\n                    type='checkbox'\n                    checked={this.state.gender}\n                    onChange={this.handleInputChange}\n                  />\n                  Gender\n                </label>\n                <label>\n                  <input\n                    name='sexualorientation'\n                    type='checkbox'\n                    checked={this.state.sexualorientation}\n                    onChange={this.handleInputChange}\n                  />\n                  Sexual Orientation\n                </label>\n                <label>\n                  <input\n                    name='race'\n                    type='checkbox'\n                    checked={this.state.race}\n                    onChange={this.handleInputChange}\n                  />\n                  Race\n                </label>\n                <label>\n                  <input\n                    name='ideology'\n                    type='checkbox'\n                    checked={this.state.ideology}\n                    onChange={this.handleInputChange}\n                  />\n                  Ideology\n                </label>\n                <label>\n                  <input\n                    name='religion'\n                    type='checkbox'\n                    checked={this.state.religion}\n                    onChange={this.handleInputChange}\n                  />\n                  Religion\n                </label>\n                <label>\n                  <input\n                    name='others'\n                    type='checkbox'\n                    checked={this.state.other}\n                    onChange={this.handleInputChange}\n                  />\n                  Other\n                </label>\n              </div>\n\n              <h4>Would you like to share your story?</h4>\n              <textarea\n                name='alertstory'\n                className='alertstory'\n                value={this.state.alertstory}\n                onChange={this.handleChange}\n                placeholder='Write your story here'\n              />\n            </div>\n          ) : null}\n\n          <button type='submit'>Send Alert Info</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withAuth(IAmOkForm));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport AlertService from \"../../services/alert-service\";\nimport IAmOkForm from \"../../components/IAmOkForm/IAmOkForm\";\nimport \"./AlertUser.css\";\n\nclass AlertUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      iAmOk: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ iAmOk: false });\n    await this.props.me();\n  }\n\n  handleCancelBtn = async () => {\n\n    await AlertService.delete(this.props.user.userAlert._id);\n    \n    await this.props.me();\n    console.log(\"i just did this.props.me\")\n    \n    this.props.deactivateAlert()\n    console.log(\"deactivated alert from AlertUser\")\n  };\n\n  handleFineBtn = async () => {\n    await AlertService.iamfine(this.props.user.userAlert._id);\n    this.setState({ iAmOk: true });\n  };\n\n\n  render() {\n\n    return (\n      <>\n      {this.props.user && this.props.user.userAlert != null\n      ? this.state.iAmOk ? (\n          <IAmOkForm deactivateAlert={this.props.deactivateAlert}/>\n        ) : (\n       <div className='user-alert'>\n         <div className='content'>\n           <span className='dot'></span>\n           <h4>Alert sent at:</h4>\n           <h2>{this.props.user.userAlert.hour}</h2>\n           <h2>{this.props.user.userAlert.date}</h2>\n\n           <h4>To the following nets:</h4>\n           {this.props.user.nets.map((net) => {\n             return <h2 key={net._id}>{net.netname}</h2>;\n           })}\n         </div>\n         <div className='buttons-div'>\n             <button className='cancel-alert' onClick={this.handleCancelBtn}>\n               <p className='button-big'>Cancel</p>\n               <p className='button-baseline'>not an alert</p>\n             </button>\n           <button className='finish-alert' onClick={this.handleFineBtn}>\n             <p className='button-big'>I'm Ok</p>\n             <p className='button-baseline'>finish alert</p>\n           </button>\n         </div>\n       </div>\n     )\n      : <h4>Loading</h4>\n      }\n        \n      </>\n    );\n  }\n}\n\nexport default withAuth(AlertUser);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../../context/auth-context\";\nimport \"./Signup.css\";\n\nclass Signup extends Component {\n  state = { username: \"\", email: \"\", password: \"\" };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, email, password } = this.state;\n    this.props.signup(username, email, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, email, password } = this.state;\n    return (\n      <div className='signupform'>\n        <h1>Welcome to Mutual</h1>\n\n        <form\n          className='formInputs'\n          onSubmit={this.handleFormSubmit}\n          autoComplete='off'\n        >\n          <input\n            type='text'\n            name='username'\n            value={username}\n            onChange={this.handleChange}\n            placeholder='Username'\n          />\n\n          <input\n            type='email'\n            name='email'\n            value={email}\n            onChange={this.handleChange}\n            placeholder='Email'\n          />\n\n          <input\n            type='password'\n            name='password'\n            value={password}\n            onChange={this.handleChange}\n            placeholder='Password'\n          />\n\n          <button type='submit'> SignUp </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../../context/auth-context\";\n\nclass Login extends Component {\n  state = { username: \"\", password: \"\" };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    // Call function coming from AuthProvider ( via withAuth )\n    this.props.login(username, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div>\n        <h1>Login to Mutual</h1>\n\n        <form\n          className='formInputs'\n          onSubmit={this.handleFormSubmit}\n          autoComplete='nope'\n        >\n          <input\n            type='text'\n            name='username'\n            value={username}\n            onChange={this.handleChange}\n            placeholder='Username'\n          />\n\n          <input\n            type='password'\n            name='password'\n            value={password}\n            onChange={this.handleChange}\n            placeholder='Password'\n          />\n\n          <button type='submit'>Login</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react'\nimport './Authform.css'\n\nimport Signup from './Signup/Signup'\nimport Login from './Login/Login'\n\nclass Authform extends Component {\n  state = {\n    showSignupForm: false,\n    showLoginFrom: false,\n    back: false\n  }\n\n  handleSignUpBtn = () => {\n    this.setState({\n      showSignupForm: true,\n      showLoginFrom: false,\n    })\n  } \n  \n  handleLogInBtn = () => {\n    this.setState({\n      showSignupForm: false,\n      showLoginFrom: true,\n    })\n  } \n  \n  \n\n  render() {\n    return (\n\t\t\t<div className='authform'>\n\t\t\t\t{this.state.showSignupForm === false &&\n\t\t\t\tthis.state.showLoginFrom === false ? (\n\t\t\t\t\t<div className='authbuttons'>\n\t\t\t\t\t\t<h1>Your Mutual support</h1>\n\t\t\t\t\t\t<button onClick={this.handleSignUpBtn}>Sign Up</button>\n\t\t\t\t\t\t<button onClick={this.handleLogInBtn}>Log In</button>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\n\t\t\t\t{this.state.showSignupForm ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Signup />\n\t\t\t\t\t\t<button className='alreadymember' onClick={this.handleLogInBtn}>\n\t\t\t\t\t\t\tAlready a member? Log in\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\n\t\t\t\t{this.state.showLoginFrom ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t\t<button className='alreadymember' onClick={this.handleSignUpBtn}>\n\t\t\t\t\t\t\tNot a member? Sign up\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n  }\n}\n\nexport default Authform","import React from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { Redirect } from \"react-router-dom\";\nimport AlertButton from \"./../../components/AlertButton/AlertButton\";\nimport AlertUser from \"./../../pages/AlertUser/AlertUser\"\nimport Authform from \"./../../components/Authform/Authform\";\n\nclass MainPage extends React.Component {\n  state = {\n    hasAlert: false\n  }\n  async componentDidMount() {\n\n    await this.props.me();    \n    if (this.props.user && this.props.user.userAlert ) {\n      this.setState( {hasAlert: true} )\n    }\n  }\n\n  \n  deactivateAlert = () => {\n    this.setState({hasAlert: false})\n  }\n\n  activateAlert = () => {\n    this.setState({hasAlert: true})\n  }\n  \n  render() {\n    return (\n      <div>\n        {!this.props.isLoggedIn ? <Authform data={this.getuserData} /> : null}\n\n        {this.props.isLoggedIn && this.props.user.nets.length === 0 ? (\n          <Redirect to='/nets' />\n        ) : null}\n\n        {this.props.isLoggedIn && this.props.user.nets.length > 0 \n          ? this.state.hasAlert\n            ? <AlertUser deactivateAlert={this.deactivateAlert} />\n            : <AlertButton  activateAlert={this.activateAlert} />          \n         : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(MainPage);\n","import React, { Component } from \"react\";\nimport alertService from \"./../../services/alert-service\";\nimport \"./HeatMap.css\";\n\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl-csp\";\nimport MapboxWorker from \"mapbox-gl/dist/mapbox-gl-csp-worker\";\n\nmapboxgl.workerClass = MapboxWorker;\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoiZmVkZW11bmllbnRlIiwiYSI6ImNrbHh6ZnA2MjB1bzYydXJ6c3Zxd3JnaG0ifQ.MYXBWDkRnwRoUQn8Dz1RRg\";\n\nclass HeatMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // Poblenou coords\n      viewLng: 2.1945,\n      viewLat: 41.3988,\n      viewZoom: 14,\n      // alertDB\n      alerts: [\n        {\n          \"active\": false,\n          \"person\": \"604783be98faba5c88f6e3c3\",\n          \"location\": [2.1908485, 41.3988098, 0],\n          \"publish\": true,\n          \"category\": [\"others\"],\n          \"story\": \"example story\",\n          \"hour\": \"15:18:38\",\n          \"date\": \"09/03/2021\",\n        },\n      ],\n      colorCode: {\n        gender: \"#bb00fd\", // purple\n        race: \"#0296f0\", // blue\n        sexualorientation: \"#fff400\", // yellow\n        ideology: \"#06bd00\", // light green\n        religion: \"#e7005d\", // pink\n        others: \"#ff3131\", // red\n      },\n    };\n    this.mapContainer = React.createRef();\n  }\n\n  loadAlertsFromDB = async () => {\n    const alerts = await alertService.heatmap();\n    this.setState({ alerts });\n  };\n\n  printAlerts = (heatmap) => {\n    this.state.alerts.map((al) => {\n      return new mapboxgl.Marker({\n        color: this.state.colorCode[al.category[0]],\n        draggable: false,\n      })\n        .setLngLat(al.location)\n        .addTo(heatmap);\n    });\n  };\n\n  async componentDidMount() {\n    await this.loadAlertsFromDB();\n\n    // MapBox map load with the state's data\n    const { viewLng, viewLat, viewZoom } = this.state;\n    const heatmap = new mapboxgl.Map({\n      container: this.mapContainer.current,\n      style: \"mapbox://styles/mapbox/bright-v8\",\n      center: [viewLng, viewLat],\n      zoom: viewZoom,\n    });\n\n    // MapBox map movement function\n    heatmap.on(\"move\", () => {\n      this.setState({\n        viewLng: heatmap.getCenter().lng.toFixed(4),\n        viewLat: heatmap.getCenter().lat.toFixed(4),\n        viewZoom: heatmap.getZoom().toFixed(2),\n      });\n    });\n\n    // Print the array of public alerts coming from the DB\n    this.printAlerts(heatmap);\n  }\n\n  async componentWillUnmount() {\n    await this.loadAlertsFromDB();\n  }\n\n  render() {\n    return (\n      <div>\n        <div ref={this.mapContainer} className='map-container' />\n      </div>\n    );\n  }\n}\nexport default HeatMap;\n","import axios from \"axios\";\n\nclass UserService {\n  constructor() {\n    this.user = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/users`,\n      withCredentials: true,\n    });\n  }\n\n  findUser(userId) {\n    const pr = this.user\n      .get(`/user/${userId}`)\n      .then((response) => response.data);\n    return pr;\n  }\n\n  findAllUsers() {\n    const pr = this.user\n      .get(\"/all\")\n      .then((response) => response.data)\n      .catch((err) => err);\n    return pr;\n  }\n}\n\nconst userService = new UserService();\nexport default userService;\n","import React, { Component } from \"react\";\nimport \"./AlertList.css\";\nimport { withAuth } from \"../../context/auth-context\";\nimport { Link } from \"react-router-dom\";\nimport userService from \"./../../services/user-service\";\n\nclass Alerts extends Component {\n  state = {\n    alertArray: [],\n  };\n\n  async componentDidMount() {\n    await this.props.me();\n\n    const peopleIdArray = this.props.user.netAlerts.map((alert) => {\n      return alert.person;\n    });\n\n    const allUsers = await userService.findAllUsers();\n\n    const peopleArray = allUsers.filter((user) => {\n      if (peopleIdArray.includes(user._id)) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n\n    console.log(\"peopleArray\", peopleArray);\n\n    const commonNets = [];\n    peopleArray.forEach((person, index) => {\n      let netString = \"\";\n\n      person.nets.forEach((personNet) => {\n        this.props.user.nets.forEach((meNet) => {\n          if (String(personNet) === String(meNet._id)) {\n            netString += meNet.netname + \" \";\n          }\n        });\n      });\n      commonNets.push(netString.trim());\n    });\n\n    const alertArray = [];\n    this.props.user.netAlerts.forEach((alert, index) => {\n      const user = {};\n      user[\"alertId\"] = alert._id;\n      user[\"name\"] = peopleArray[index].username;\n      user[\"nets\"] = commonNets[index];\n      user[\"date\"] = alert.date;\n      user[\"hour\"] = alert.hour;\n      alertArray.push(user);\n    });\n\n    this.setState({ alertArray });\n  }\n\n  render() {\n    if (this.state.alertArray.length === 0) {\n      return <h4>You have no alerts</h4>;\n    } else {\n      return (\n        <div className='alert-list-container'>\n          {this.state.alertArray.map((alert) => {\n            return (\n              <div className='alert-item' key={alert.alertId}>\n                <div className='alert-item-text'>\n                  <h3>{alert.name}</h3>\n                  <p className='alert-text-nets'>From: {alert.nets}</p>\n                  <p>\n                    {alert.hour} h, {alert.date}\n                  </p>\n                </div>\n                <div className='alert-list-btn'>\n                  <Link to={`/alerts/map/${alert.alertId}`}>\n                    <button>Map</button>\n                  </Link>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n  }\n}\n\nexport default withAuth(Alerts);\n","import axios from \"axios\";\n\nclass NetService {\n  constructor() {\n    this.net = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/nets`,\n      withCredentials: true,\n    });\n  }\n\n  create(netname, netcode) {\n    const pr = this.net\n      .post(\"/create\", { netname, netcode })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  join(netname, netcode) {\n    const pr = this.net\n      .put(\"/join\", { netname, netcode })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  leave(netId) {\n    const pr = this.net\n      .post(\"/leave\", { value: netId })\n      .then(({ data }) => data);\n    return pr;\n  }\n}\n\nconst netService = new NetService();\nexport default netService;\n","import React, { Component } from \"react\";\nimport \"./Profile.css\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport netService from \"./../../services/net-service\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      nets: [],\n    };\n  }\n\n  async componentDidMount() {\n    await this.props.me();\n    this.setState({ nets: this.props.user.nets });\n  }\n\n  handleLeave = async (netId) => {\n    await netService.leave(netId);\n    await this.props.me();\n    this.setState({ nets: this.props.user.nets });\n  };\n\n  render() {\n    if (this.props.user.nets.length === 0) {\n      return (\n        <div>\n          <h1>You are not in any net</h1>\n          <Link to='/nets'>\n            <button>Join or Create</button>\n          </Link>\n        </div>\n      );\n    } else if (Object.keys(this.props.user.nets[0]).length === 24) {\n      return <p>Loading...</p>;\n    } else {\n      return (\n        <div className='nets-list-container'>\n          {this.props.user.nets.map((net) => {\n            return (\n              <div className='net-card' key={net._id}>\n                <div className='net-card-info'>\n                  <h4>{net.netname}</h4>\n                  <p>Access code:</p>\n                  <p className='netcode'>{net.netcode}</p>\n                  <p>{net.members.length} members</p>\n                </div>\n                <div className='net-card-btn'>\n                  <button onClick={() => this.handleLeave(net._id)}>\n                    Leave\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n          <Link to='/nets'>\n            <button className='joinorcreatebtn'>Join or Create a Net</button>\n          </Link>\n        </div>\n      );\n    }\n  }\n}\n\nexport default withAuth(Profile);\n","import React, { Component } from \"react\";\n\nimport netService from \"../../../services/net-service\"\n\nimport { withAuth } from \"../../../context/auth-context\";\nimport { withRouter } from 'react-router-dom'\n\nclass CreateNet extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = { \n\t\t\tnetname: \"\", \n\t\t\tnetcode: \"\",\n\t\t};\n\t}\n\n\tupdateUserData = () => {\n\t\tthis.props.me()\n\t}\n\n\thandleFormSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\t\n\t\tconst { netname, netcode } = this.state;\n\t\t\n    await netService.create(netname, netcode)\n    \n\t\t\n\t\tthis.updateUserData()\n\t\t\n\t\t\n\t\tthis.setState( { netname: \"\", netcode: \"\" } );\n\t\t\n\t\tthis.props.history.push(\"/profile\")\n\t};\n\n\thandleChange = (event) => {\n\t\tconst { name, value } = event.target;\n\t\tthis.setState({ [name]: value });\n\t};\n\n\trender() {\n\t\tconst { netname, netcode } = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Create a Net</h1>\n\n\t\t\t\t<form className='formInputs' onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='netname'\n\t\t\t\t\t\tvalue={netname}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net name'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tname='netcode'\n\t\t\t\t\t\tvalue={netcode}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net code'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button type='submit'>Create</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(withAuth(CreateNet));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../../context/auth-context\";\nimport netService from \"../../../services/net-service\";\nimport { withRouter } from 'react-router-dom'\n\nclass JoinNet extends Component {\n\tconstructor (props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tnetname: \"\",\n\t\t\tnetcode: \"\",\n\t\t};\n\t}\n\n\thandleFormSubmit = async (event) => {\n\t\t\n\t\tevent.preventDefault();\n\n\t\tconst { netname, netcode } = this.state;\n\n\t\tawait netService.join(netname, netcode);\n\n\t\tthis.setState({ netname: \"\", netcode: \"\" });\n\t\t\n\t\tawait this.props.me()\n\t\t\n\t\tthis.props.history.push(\"/profile\")\n\t};\n\n\thandleChange = (event) => {\n\t\tconst { name, value } = event.target;\n\t\tthis.setState({ [name]: value });\n\t};\n\n\trender() {\n\t\tconst { netname, netcode } = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Join a Net</h1>\n\n\t\t\t\t<form className='formInputs' onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='netname'\n\t\t\t\t\t\tvalue={netname}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net name'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tname='netcode'\n\t\t\t\t\t\tvalue={netcode}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Net code'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button type='submit'>Join</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(withAuth(JoinNet));\n","import React, { Component } from \"react\";\nimport \"./Netsform.css\";\n\nimport { withAuth } from \"../../context/auth-context\";\nimport CreateNet from \"./CreateNet/CreateNet\";\nimport JoinNet from \"./JoinNet/JoinNet\";\n\nclass Netsform extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      showCreateNet: false,\n      showJoinNet: false,\n      redirect: null,\n    };\n  }\n\n  goBack = async (input) => {\n    const updatedUser = await this.props.me();\n\n    await this.props.me()\n\n    this.setState( { redirect: input})\n  }\n\n  handleCreateBtn = () => {\n    this.setState({\n      showCreateNet: true,\n      showJoinNet: false,\n    });\n  };\n\n  handleJoinBtn = () => {\n    this.setState({\n      showCreateNet: false,\n      showJoinNet: true,\n    });\n  };\n\n  render() {\n    //if (this.state.redirect) return <Redirect to=\"/profile\" />\n\n    return (\n      <div className='authform'>\n        <h4>You are not part of any net yet</h4>\n        {this.state.showCreateNet === false &&\n        this.state.showJoinNet === false ? (\n          <div className='authbuttons'>\n            <button onClick={this.handleCreateBtn}>Create a net</button>\n            <button onClick={this.handleJoinBtn}>Join a net</button>\n          </div>\n        ) : null}\n\n        {this.state.showCreateNet ? (\n          <>\n            <CreateNet back={this.goBack} />\n            <button className='alreadymember' onClick={this.handleJoinBtn}>\n              Want to join a net?\n            </button>\n          </>\n        ) : null}\n\n        {this.state.showJoinNet ? (\n          <>\n            <JoinNet />\n\n            <button className='alreadymember' onClick={this.handleCreateBtn}>\n              Want to create a new net?\n            </button>\n          </>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Netsform);\n","import React, { Component } from \"react\";\nimport alertService from \"./../../services/alert-service\";\nimport \"./AlertMap.css\";\nimport { Link } from \"react-router-dom\";\n\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl-csp\";\nimport MapboxWorker from \"mapbox-gl/dist/mapbox-gl-csp-worker\";\n\nmapboxgl.workerClass = MapboxWorker;\nmapboxgl.accessToken = \"pk.eyJ1IjoiZmVkZW11bmllbnRlIiwiYSI6ImNrbHh6ZnA2MjB1bzYydXJ6c3Zxd3JnaG0ifQ.MYXBWDkRnwRoUQn8Dz1RRg\"\n  \nclass AlertMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewLat: 41.3988,\n      viewLng: 2.1945,\n      viewZoom: 16,\n      alert: null\n    };\n    this.mapContainer = React.createRef();\n  }\n\n  loadAlertData = async () => {\n    const alert = await alertService.active(this.props.match.params.alertId);\n    this.setState({\n      alert,\n      viewLng: alert.location[0],\n      viewLat: alert.location[1],\n    });\n  };\n\n  printAlert = (map) => {\n    new mapboxgl.Marker({\n      color: \"#ff033e\",\n      draggable: false,\n    })\n      .setLngLat(this.state.alert.location)\n      .addTo(map)      \n  };\n\n  async componentDidMount() {\n    await this.loadAlertData();\n\n    // MapBox map load with the state's data\n    const { viewLng, viewLat, viewZoom } = this.state;\n    const alertMap = new mapboxgl.Map({\n      container: this.mapContainer.current,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [viewLng, viewLat],\n      zoom: viewZoom,\n    });\n\n    // MapBox map movement function\n    alertMap.on(\"move\", () => {\n      this.setState({\n        viewLng: alertMap.getCenter().lng.toFixed(4),\n        viewLat: alertMap.getCenter().lat.toFixed(4),\n        viewZoom: alertMap.getZoom().toFixed(2),\n      });\n    });\n\n    // Print the array of public alerts coming from the DB\n    this.printAlert(alertMap);\n  }\n\n  render() {\n    return (\n      <div>\n        <div ref={this.mapContainer} className='map-container' id=\"single-alert-map\"/>\n      {this.state.alert \n      ? <div className=\"alert-user-info\">\n        <Link to='/alerts'>\n          Back\n        </Link>\n        <div className=\"alert-bar-text\">\n          <p>Sent by:</p> \n          <p className=\"alert-bar-username\">{this.state.alert.person.username}</p> \n          <p>{this.state.alert.hour}</p>  \n          <p>{this.state.alert.date}</p>\n        </div>\n        </div>\n      : null\n      }\n     \n      </div>\n    )\n  }\n}\n\nexport default AlertMap;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Menu.css\";\nimport { withAuth } from \"./../../context/auth-context\";\n\nfunction Menu(props) {\n  return (\n    <div className='menu flex'>\n      <div className='flex'>\n        <Link to='/'>\n          <button className='menu-button' onClick={props.toggle}>\n            Send an Alert\n          </button>\n        </Link>\n        <Link to='/alerts'>\n\n          <button className='menu-button' onClick={props.toggle}>\n            Alert List\n          </button>\n        </Link>\n        <Link to='/profile'>\n          <button className='menu-button' onClick={props.toggle}>\n            Net List\n          </button>\n        </Link>\n        <Link to='/heatmap'>\n          <button className='menu-button' onClick={props.toggle}>\n            Heat Map\n          </button>\n        </Link>\n      </div>\n\n      <button\n        className='menu-button'\n        onClick={() => {\n          props.logout();\n          props.toggle();\n        }}\n      >\n        Logout\n      </button>\n    </div>\n  );\n}\n\nexport default withAuth(Menu);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport \"./Navbar.css\";\nimport Menu from \"./Menu\";\n\nclass Navbar extends Component {\n  state = {\n    displayMenu: undefined,\n  };\n\n  componentDidMount() {\n    this.setState({ displayMenu: false });\n  }\n\n  toggleMenu = () => {\n    this.state.displayMenu\n      ? this.setState({ displayMenu: false })\n      : this.setState({ displayMenu: true });\n  };\n\n  render() {\n    return (\n      <nav className='navbar'>\n        {this.props.isLoggedIn ? (\n          <>\n            {this.state.displayMenu ? (\n              <>\n                <Menu toggle={this.toggleMenu} />\n                <i className='fas fa-times' onClick={this.toggleMenu}></i>\n                <Link to='/' onClick={this.toggleMenu}>\n                  <p className='username'>\n                    {this.props.user && this.props.user.username}\n                  </p>\n                </Link>\n                {/* TODO Fix username to center of menu screen */}\n                <span style={{ width: \"width: 4.4vh\" }}></span>\n              </>\n            ) : (\n              <>\n                <i className='fas fa-bars' onClick={this.toggleMenu}></i>\n                <Link to='/'>\n                  <p className='username'>\n                    {this.props.user && this.props.user.username}\n                  </p>\n                </Link>\n                {this.props.user.netAlerts.length === 0 ? (\n                  <span className='notif-num zero'>\n                    <p>{this.props.user && this.props.user.netAlerts.length}</p>\n                  </span>\n                ) : (\n                  <Link to='/alerts'>\n                    <span className='notif-num'>\n                      <p>\n                        {this.props.user && this.props.user.netAlerts.length}\n                      </p>\n                    </span>\n                  </Link>\n                )}\n              </>\n            )}\n          </>\n        ) : null}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute(routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return \"Loading\";\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={function (props) {\n        if (!isLoggedIn) return <Redirect to='/' />;\n        else if (isLoggedIn) return <ComponentToShow {...props} />;\n      }}\n    />\n  );\n}\n\nexport default withAuth(PrivateRoute);\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { withAuth } from \"./context/auth-context\";\n\n// Pages\nimport MainPage from \"./pages/MainPage/MainPage\";\nimport HeatMap from \"./pages/HeatMap/HeatMap\";\nimport AlertList from \"./pages/AlertList/AlertList\";\nimport Profile from \"./pages/Profile/Profile\";\nimport Netsform from \"./pages/Netsform/Netsform\";\nimport AlertMap from \"./pages/AlertMap/AlertMap\";\n\n// Components\nimport Navbar from \"./components/Navbar/Navbar\";\n// import AnonRoute from \"./components/AnonRoute/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute/PrivateRoute\";\n\nclass App extends Component {\n  state = { user: {} };\n\n  render() {\n    return (\n      <div className='container'>\n        <Navbar />\n        <Switch>\n          <Route exact path='/' component={MainPage} />\n          <PrivateRoute exact path='/nets' component={Netsform} />\n          <PrivateRoute exact path='/heatmap' component={HeatMap} />\n          <PrivateRoute exact path='/alerts' component={AlertList} />\n          <PrivateRoute exact path='/profile' component={Profile} />\n\n          <PrivateRoute\n            exact\n            path='/alerts/map/:alertId'\n            component={AlertMap}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}