{"version":3,"sources":["services/auth-service.js","context/auth-context.js","services/alert-service.js","components/AlertButton/AlertButton.js","components/IAmOkForm/IAmOkForm.js","pages/AlertUser/AlertUser.js","components/Authform/Signup/Signup.js","components/Authform/Login/Login.js","components/Authform/Authform.js","pages/MainPage/MainPage.js","pages/HeatMap/HeatMap.js","services/user-service.js","pages/AlertList/AlertList.js","services/net-service.js","pages/Profile/Profile.js","pages/Netsform/CreateNet/CreateNet.js","pages/Netsform/JoinNet/JoinNet.js","pages/Netsform/Netsform.js","pages/AlertMap/AlertMap.js","components/Navbar/Menu.js","components/Navbar/Navbar.js","components/PrivateRoute/PrivateRoute.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","username","email","password","post","then","response","data","get","React","createContext","Consumer","Provider","AuthProvider","props","me","user","setState","isLoggedIn","isLoading","catch","err","signup","login","logout","console","log","state","value","children","Component","withAuth","WrappedComponent","alertService","alert","locationArray","alertId","alertObj","withRouter","handleClick","a","AlertService","activateAlert","className","onClick","type","IAmOkForm","handleInputChange","event","target","checked","name","updatedCategory","category","handleFormSubmit","preventDefault","publicBoolean","alertstory","publicAlert","categoryArray","item","push","objectForUpdate","publish","story","archive","delete","deactivateAlert","handleChange","handlePublic","alertpublic","alertcategory","gender","sexualorientation","race","ideology","religion","others","userAlert","_id","onSubmit","onChange","other","placeholder","handleCancelBtn","handleFineBtn","iamfine","iAmOk","hour","date","nets","map","net","netname","autoComplete","Authform","handleSignUpBtn","showSignupForm","showLoginFrom","handleLogInBtn","back","hasAlert","getuserData","length","to","mapboxgl","workerClass","MapboxWorker","accessToken","HeatMap","loadAlertsFromDB","heatmap","alerts","printAlerts","al","Marker","color","colorCode","draggable","setLngLat","location","addTo","viewLng","viewLat","viewZoom","mapContainer","createRef","Map","container","current","style","center","zoom","on","getCenter","lng","toFixed","lat","getZoom","ref","userService","userId","alertArray","peopleIdArray","netAlerts","person","findAllUsers","allUsers","peopleArray","filter","includes","commonNets","forEach","index","netString","personNet","meNet","String","trim","netService","netcode","put","netId","handleLeave","leave","Object","keys","members","CreateNet","history","JoinNet","join","handleCreateBtn","showCreateNet","showJoinNet","handleJoinBtn","AlertMap","loadAlertData","active","match","params","printAlert","alertMap","id","toggle","toggleMenu","displayMenu","undefined","width","routeProps","ComponentToShow","component","exact","path","render","MainPage","Netsform","AlertList","Profile","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.539ef899.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}`,\n      withCredentials: true\n    });\n  }\n\n  signup(username, email, password) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { username, email, password })\n      .then((response) => response.data);\n    // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login(username, password) {\n    const pr = this.auth\n      .post(\"/auth/login\", { username, password })\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth.get(\"/auth/logout\").then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth.get(\"/auth/me\").then((response) => {\n      return response.data;\n    });\n\n    return pr;\n  }\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n","import React from 'react';\nimport authService from '../services/auth-service';\n\nconst { Consumer, Provider } = React.createContext();\n\n\nclass AuthProvider extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isLoggedIn: false,\n      isLoading: true,\n      user: null\n    }\n  }\n\n  me = () => {\n    authService.me()\n      .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\n      .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\n  }\n\n  componentDidMount () {\n    this.me()\n  }\n\n  signup = (username, email, password) => {\n    authService.signup( username, email, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  login = (username, password) => {\n    authService.login( username, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  }\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout, me } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return(\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout, me }}  >\n        {this.props.children}\n      </Provider>\n    )\n  }\n\n}\n\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  \n  return function (props) {\n      return(\n        <Consumer>\n          { (value) => {\n            const { isLoggedIn, isLoading, user, signup, login, logout, me } = value;\n\n            return (\n              <WrappedComponent \n                isLoggedIn={isLoggedIn} \n                isLoading={isLoading} \n                user={user} \n                signup={signup} \n                login={login} \n                logout={logout}\n                me={me}\n                {...props}\n              />\n            )\n\n          } }\n        </Consumer>\n        )\n    }\n}\n\n\nexport { AuthProvider, withAuth }","import axios from \"axios\";\n\nclass AlertService {\n  constructor() {\n    this.alert = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/alerts`,\n      withCredentials: true,\n    });\n  }\n\n  create(locationArray) {\n    const pr = this.alert\n    .post(\"/create\", { locationArray })\n    .then(({ data }) => data);\n    return pr;\n  }\n\n  active(alertId) {\n    const pr = this.alert.get(`/active/${alertId}`).then(({ data }) => data);\n    return pr;\n  }\n\n  delete(alertId) {\n    const pr = this.alert\n      .post(\"/delete\", { value: alertId })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  iamfine(alertId) {\n    const pr = this.alert\n      .post(\"/iamfine\", { value: alertId })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  archive(alertObj) {\n    const pr = this.alert.post(\"/archive\", alertObj).then(({ data }) => data);\n    return pr;\n  }\n\n  heatmap() {\n    const pr = this.alert.get(\"/heatmap\").then(({ data }) => data);\n    return pr;\n  }\n}\n\nconst alertService = new AlertService();\nexport default alertService;\n","import React from \"react\";\nimport \"./AlertButton.css\";\n\nimport { withAuth } from \"./../../context/auth-context\";\nimport { withRouter } from 'react-router-dom'\nimport AlertService from \"./../../services/alert-service\";\n\nfunction AlertButton (props) {\n   const handleClick = async () => {\n\n    const locationArray = [2.1901371017810924, 41.397680267661016]\n    await AlertService.create(locationArray);\n    await props.me();    \n    props.activateAlert()\n    console.log(\"activated alert from AlertButton\")\n  };\n\n  return (\n    <div className='alert-container' onClick={handleClick}>\n      <button className='alert-button' type='submit'>\n        Alert\n      </button>\n    </div>\n  );\n}\n\nexport default withRouter(withAuth(AlertButton));\n","import React, { Component } from \"react\";\nimport './IAmOkForm.css'\nimport { withRouter } from 'react-router-dom'\nimport { withAuth } from './../../context/auth-context'\nimport alertService from './../../services/alert-service'\n\nclass IAmOkForm extends Component {  \n  constructor (props) {\n    super(props) \n    this.state = {\n      alertpublic: \"\",\n      alertcategory: \"\",\n      alertstory: \"\",\n      alertId: \"\",\n      publicBoolean: false,\n      category: {\n        gender: false,\n        sexualorientation: false,\n        race: false,\n        ideology: false,\n        religion: false,\n        others: false,\n      },\n  }\n  };\n\n  handleInputChange = (event) => {\n    const value = event.target.checked;\n    const name = event.target.name;\n    const updatedCategory = this.state.category;\n    updatedCategory[name] = value;\n    this.setState({ category: updatedCategory });\n  };\n\n  componentDidMount() {\n    this.setState({ alertId: this.props.user.userAlert._id });\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { publicBoolean, alertstory, category } = this.state;\n    const publicAlert = publicBoolean;\n    const categoryArray = [];\n    for (let item in category) {\n      if (category[item]) categoryArray.push(item);\n    }\n\n    const objectForUpdate = {\n      alertId: this.state.alertId,\n      publish: publicAlert,\n      category: categoryArray,\n      story: alertstory,\n    };\n\n    if (publicBoolean) alertService.archive(objectForUpdate)    \n    if (!publicBoolean) alertService.delete(this.state.alertId)\n    \n    this.props.deactivateAlert()\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handlePublic = (event) => {\n    if (event.target.value === \"no\") {\n      this.setState({ publicBoolean: false });\n    } else {\n      this.setState({ publicBoolean: true });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <h1 className='alerth1'>Finished Alert</h1>\n\n        <form className='iamokform iamokflex' onSubmit={this.handleFormSubmit}>\n          <div className='yesorno iamokflex'>\n            <label>\n              Do you want this alertâ€™s information to go public anonymously?\n            </label>\n\n            <select name='alertpublic' onChange={this.handlePublic}>\n              <option value='no'>No</option>\n              <option value='yes'>Yes</option>\n            </select>\n          </div>\n\n          {this.state.publicBoolean ? (\n            <div className='conditionalform'>\n              <div className='checkboxes'>\n                <h4>Please classify the type of discrimination</h4>\n\n                <label>\n                  <input\n                    name='gender'\n                    type='checkbox'\n                    checked={this.state.gender}\n                    onChange={this.handleInputChange}\n                  />\n                  Gender\n                </label>\n                <label>\n                  <input\n                    name='sexualorientation'\n                    type='checkbox'\n                    checked={this.state.sexualorientation}\n                    onChange={this.handleInputChange}\n                  />\n                  Sexual Orientation\n                </label>\n                <label>\n                  <input\n                    name='race'\n                    type='checkbox'\n                    checked={this.state.race}\n                    onChange={this.handleInputChange}\n                  />\n                  Race\n                </label>\n                <label>\n                  <input\n                    name='ideology'\n                    type='checkbox'\n                    checked={this.state.ideology}\n                    onChange={this.handleInputChange}\n                  />\n                  Ideology\n                </label>\n                <label>\n                  <input\n                    name='religion'\n                    type='checkbox'\n                    checked={this.state.religion}\n                    onChange={this.handleInputChange}\n                  />\n                  Religion\n                </label>\n                <label>\n                  <input\n                    name='others'\n                    type='checkbox'\n                    checked={this.state.other}\n                    onChange={this.handleInputChange}\n                  />\n                  Other\n                </label>\n              </div>\n\n              <h4>Would you like to share your story?</h4>\n              <textarea\n                name='alertstory'\n                className='alertstory'\n                value={this.state.alertstory}\n                onChange={this.handleChange}\n                placeholder='Write your story here'\n              />\n            </div>\n          ) : null}\n\n          <button type='submit'>Send Alert Info</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withAuth(IAmOkForm));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../context/auth-context\";\nimport AlertService from \"../../services/alert-service\";\nimport IAmOkForm from \"../../components/IAmOkForm/IAmOkForm\";\nimport \"./AlertUser.css\";\n\nclass AlertUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      iAmOk: false,\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      this.setState({ iAmOk: false });\n      await this.props.me();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  handleCancelBtn = async () => {\n    try {\n      await AlertService.delete(this.props.user.userAlert._id);\n\n      await this.props.me();\n      console.log(\"i just did this.props.me\");\n\n      this.props.deactivateAlert();\n      console.log(\"deactivated alert from AlertUser\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  handleFineBtn = async () => {\n    try {\n      await AlertService.iamfine(this.props.user.userAlert._id);\n      this.setState({ iAmOk: true });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.user && this.props.user.userAlert != null ? (\n          this.state.iAmOk ? (\n            <IAmOkForm deactivateAlert={this.props.deactivateAlert} />\n          ) : (\n            <div className='user-alert'>\n              <div className='content'>\n                <span className='dot'></span>\n                <h4>Alert sent at:</h4>\n                <h2>{this.props.user.userAlert.hour}</h2>\n                <h2>{this.props.user.userAlert.date}</h2>\n\n                <h4>To the following nets:</h4>\n                {this.props.user.nets.map((net) => {\n                  return <h2 key={net._id}>{net.netname}</h2>;\n                })}\n              </div>\n              <div className='buttons-div'>\n                <button className='cancel-alert' onClick={this.handleCancelBtn}>\n                  <p className='button-big'>Cancel</p>\n                  <p className='button-baseline'>not an alert</p>\n                </button>\n                <button className='finish-alert' onClick={this.handleFineBtn}>\n                  <p className='button-big'>I'm Ok</p>\n                  <p className='button-baseline'>finish alert</p>\n                </button>\n              </div>\n            </div>\n          )\n        ) : (\n          <h4>Loading</h4>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withAuth(AlertUser);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../../context/auth-context\";\nimport \"./Signup.css\";\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { username: \"\", email: \"\", password: \"\" };\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, email, password } = this.state;\n    this.props.signup(username, email, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, email, password } = this.state;\n    return (\n      <div className='signupform'>\n        <h1>Welcome to Mutual</h1>\n\n        <form\n          className='formInputs'\n          onSubmit={this.handleFormSubmit}\n          autoComplete='off'\n        >\n          <input\n            type='text'\n            name='username'\n            value={username}\n            onChange={this.handleChange}\n            placeholder='Username'\n          />\n\n          <input\n            type='email'\n            name='email'\n            value={email}\n            onChange={this.handleChange}\n            placeholder='Email'\n          />\n\n          <input\n            type='password'\n            name='password'\n            value={password}\n            onChange={this.handleChange}\n            placeholder='Password'\n          />\n\n          <button type='submit'> SignUp </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../../context/auth-context\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { username: \"\", password: \"\" };\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    this.props.login(username, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div>\n        <h1>Login to Mutual</h1>\n\n        <form\n          className='formInputs'\n          onSubmit={this.handleFormSubmit}\n          autoComplete='nope'\n        >\n          <input\n            type='text'\n            name='username'\n            value={username}\n            onChange={this.handleChange}\n            placeholder='Username'\n          />\n\n          <input\n            type='password'\n            name='password'\n            value={password}\n            onChange={this.handleChange}\n            placeholder='Password'\n          />\n\n          <button type='submit'>Login</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react'\nimport './Authform.css'\n\nimport Signup from './Signup/Signup'\nimport Login from './Login/Login'\n\nclass Authform extends Component {\n\tconstructor (props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tshowSignupForm: false,\n\t\t\tshowLoginFrom: false,\n\t\t\tback: false\n\t\t}\n\t}\n\n  handleSignUpBtn = () => {\n    this.setState({\n      showSignupForm: true,\n      showLoginFrom: false,\n    })\n  } \n  \n  handleLogInBtn = () => {\n    this.setState({\n      showSignupForm: false,\n      showLoginFrom: true,\n    })\n  } \n  \n  render() {\n    return (\n\t\t\t<div className='authform'>\n\t\t\t\t{this.state.showSignupForm === false &&\n\t\t\t\tthis.state.showLoginFrom === false ? (\n\t\t\t\t\t<div className='authbuttons'>\n\t\t\t\t\t\t<h1>Your Mutual support</h1>\n\t\t\t\t\t\t<button onClick={this.handleSignUpBtn}>Sign Up</button>\n\t\t\t\t\t\t<button onClick={this.handleLogInBtn}>Log In</button>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\n\t\t\t\t{this.state.showSignupForm ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Signup />\n\t\t\t\t\t\t<button className='alreadymember' onClick={this.handleLogInBtn}>\n\t\t\t\t\t\t\tAlready a member? Log in\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\n\t\t\t\t{this.state.showLoginFrom ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t\t<button className='alreadymember' onClick={this.handleSignUpBtn}>\n\t\t\t\t\t\t\tNot a member? Sign up\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n  }\n}\n\nexport default Authform","import React from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { Redirect } from \"react-router-dom\";\nimport AlertButton from \"./../../components/AlertButton/AlertButton\";\nimport AlertUser from \"./../../pages/AlertUser/AlertUser\";\nimport Authform from \"./../../components/Authform/Authform\";\n\nclass MainPage extends React.Component {\n  state = {\n    hasAlert: false,\n  };\n  async componentDidMount() {\n    try {\n      await this.props.me();\n      if (this.props.user && this.props.user.userAlert) {\n        this.setState({ hasAlert: true });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  deactivateAlert = () => {\n    this.setState({ hasAlert: false });\n  };\n\n  activateAlert = () => {\n    this.setState({ hasAlert: true });\n  };\n\n  render() {\n    return (\n      <div>\n        {!this.props.isLoggedIn ? <Authform data={this.getuserData} /> : null}\n\n        {this.props.isLoggedIn && this.props.user.nets.length === 0 ? (\n          <Redirect to='/nets' />\n        ) : null}\n\n        {this.props.isLoggedIn && this.props.user.nets.length > 0 ? (\n          this.state.hasAlert ? (\n            <AlertUser deactivateAlert={this.deactivateAlert} />\n          ) : (\n            <AlertButton activateAlert={this.activateAlert} />\n          )\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(MainPage);\n","import React, { Component } from \"react\";\nimport alertService from \"./../../services/alert-service\";\nimport \"./HeatMap.css\";\n\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl-csp\";\nimport MapboxWorker from \"mapbox-gl/dist/mapbox-gl-csp-worker\";\n\nmapboxgl.workerClass = MapboxWorker;\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoiZmVkZW11bmllbnRlIiwiYSI6ImNrbHh6ZnA2MjB1bzYydXJ6c3Zxd3JnaG0ifQ.MYXBWDkRnwRoUQn8Dz1RRg\";\n\nclass HeatMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // Poblenou coords\n      viewLng: 2.1945,\n      viewLat: 41.3988,\n      viewZoom: 14,\n      // alertDB\n      alerts: [\n        {\n          \"active\": false,\n          \"person\": \"604783be98faba5c88f6e3c3\",\n          \"location\": [2.1908485, 41.3988098, 0],\n          \"publish\": true,\n          \"category\": [\"others\"],\n          \"story\": \"example story\",\n          \"hour\": \"15:18:38\",\n          \"date\": \"09/03/2021\",\n        },\n      ],\n      colorCode: {\n        gender: \"#bb00fd\", // purple\n        race: \"#0296f0\", // blue\n        sexualorientation: \"#fff400\", // yellow\n        ideology: \"#06bd00\", // light green\n        religion: \"#e7005d\", // pink\n        others: \"#ff3131\", // red\n      },\n    };\n    this.mapContainer = React.createRef();\n  }\n\n  loadAlertsFromDB = async () => {\n    try {\n      const alerts = await alertService.heatmap();\n      this.setState({ alerts });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  printAlerts = (heatmap) => {\n    this.state.alerts.map((al) => {\n      return new mapboxgl.Marker({\n        color: this.state.colorCode[al.category[0]],\n        draggable: false,\n      })\n        .setLngLat(al.location)\n        .addTo(heatmap);\n    });\n  };\n\n  async componentDidMount() {\n    try {\n      await this.loadAlertsFromDB();\n\n      // MapBox map load with the state's data\n      const { viewLng, viewLat, viewZoom } = this.state;\n      const heatmap = new mapboxgl.Map({\n        container: this.mapContainer.current,\n        style: \"mapbox://styles/mapbox/bright-v8\",\n        center: [viewLng, viewLat],\n        zoom: viewZoom,\n      });\n\n      // MapBox map movement function\n      heatmap.on(\"move\", () => {\n        this.setState({\n          viewLng: heatmap.getCenter().lng.toFixed(4),\n          viewLat: heatmap.getCenter().lat.toFixed(4),\n          viewZoom: heatmap.getZoom().toFixed(2),\n        });\n      });\n\n      // Print the array of public alerts coming from the DB\n      this.printAlerts(heatmap);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div ref={this.mapContainer} className='map-container' />\n      </div>\n    );\n  }\n}\nexport default HeatMap;\n","import axios from \"axios\";\n\nclass UserService {\n  constructor() {\n    this.user = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/users`,\n      withCredentials: true,\n    });\n  }\n\n  findUser(userId) {\n    const pr = this.user\n      .get(`/user/${userId}`)\n      .then((response) => response.data);\n    return pr;\n  }\n\n  findAllUsers() {\n    const pr = this.user\n      .get(\"/all\")\n      .then((response) => response.data)\n      .catch((err) => err);\n    return pr;\n  }\n}\n\nconst userService = new UserService();\nexport default userService;\n","import React, { Component } from \"react\";\nimport \"./AlertList.css\";\nimport { withAuth } from \"../../context/auth-context\";\nimport { Link } from \"react-router-dom\";\nimport userService from \"./../../services/user-service\";\n\nclass Alerts extends Component {\n  state = {\n    alertArray: [],\n  };\n\n  async componentDidMount() {\n    try {\n      await this.props.me();\n\n      const peopleIdArray = this.props.user.netAlerts.map((alert) => {\n        return alert.person;\n      });\n\n      const allUsers = await userService.findAllUsers();\n\n      const peopleArray = allUsers.filter((user) => {\n        if (peopleIdArray.includes(user._id)) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n\n      const commonNets = [];\n      peopleArray.forEach((person, index) => {\n        let netString = \"\";\n\n        person.nets.forEach((personNet) => {\n          this.props.user.nets.forEach((meNet) => {\n            if (String(personNet) === String(meNet._id)) {\n              netString += meNet.netname + \" \";\n            }\n          });\n        });\n        commonNets.push(netString.trim());\n      });\n\n      const alertArray = [];\n      this.props.user.netAlerts.forEach((alert, index) => {\n        const user = {};\n        user[\"alertId\"] = alert._id;\n        user[\"name\"] = peopleArray[index].username;\n        user[\"nets\"] = commonNets[index];\n        user[\"date\"] = alert.date;\n        user[\"hour\"] = alert.hour;\n        alertArray.push(user);\n      });\n\n      this.setState({ alertArray });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    if (this.state.alertArray.length === 0) {\n      return <h1>You have no alerts</h1>;\n    } else {\n      return (\n        <div className='alert-list-container'>\n          {this.state.alertArray.map((alert) => {\n            return (\n              <div className='alert-item' key={alert.alertId}>\n                <div className='alert-item-text'>\n                  <h3>{alert.name}</h3>\n                  <p className='alert-text-nets'>From: {alert.nets}</p>\n                  <p>\n                    {alert.hour} h, {alert.date}\n                  </p>\n                </div>\n                <div className='alert-list-btn'>\n                  <Link to={`/alerts/map/${alert.alertId}`}>\n                    <button>Map</button>\n                  </Link>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n  }\n}\n\nexport default withAuth(Alerts);\n","import axios from \"axios\";\n\nclass NetService {\n  constructor() {\n    this.net = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/nets`,\n      withCredentials: true,\n    });\n  }\n\n  create(netname, netcode) {\n    const pr = this.net\n      .post(\"/create\", { netname, netcode })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  join(netname, netcode) {\n    const pr = this.net\n      .put(\"/join\", { netname, netcode })\n      .then(({ data }) => data);\n    return pr;\n  }\n\n  leave(netId) {\n    const pr = this.net\n      .post(\"/leave\", { value: netId })\n      .then(({ data }) => data);\n    return pr;\n  }\n}\n\nconst netService = new NetService();\nexport default netService;\n","import React, { Component } from \"react\";\nimport \"./Profile.css\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport netService from \"./../../services/net-service\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      nets: [],\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      await this.props.me();\n      this.setState({ nets: this.props.user.nets });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  handleLeave = async (netId) => {\n    try {\n      await netService.leave(netId);\n      await this.props.me();\n      this.setState({ nets: this.props.user.nets });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  render() {\n    if (this.props.user.nets.length === 0) {\n      return (\n        <div className=\"empty-net-list\">\n          <h1>You are not in any net</h1>\n          <Link to='/nets'>\n            <button>Join or Create</button>\n          </Link>\n        </div>\n      );\n    } else if (Object.keys(this.props.user.nets[0]).length === 24) {\n      return <p>Loading...</p>;\n    } else {\n      return (\n        <div className='nets-list-container'>\n          {this.props.user.nets.map((net) => {\n            return (\n              <div className='net-card' key={net._id}>\n                <div className='net-card-info'>\n                  <h4>{net.netname}</h4>\n                  <p>Access code:</p>\n                  <p className='netcode'>{net.netcode}</p>\n                  <p>{net.members.length} members</p>\n                </div>\n                <div className='net-card-btn'>\n                  <button onClick={() => this.handleLeave(net._id)}>\n                    Leave\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n          <Link to='/nets'>\n            <button className='joinorcreatebtn'>Join or Create a Net</button>\n          </Link>\n        </div>\n      );\n    }\n  }\n}\n\nexport default withAuth(Profile);\n","import React, { Component } from \"react\";\n\nimport netService from \"../../../services/net-service\";\n\nimport { withAuth } from \"../../../context/auth-context\";\nimport { withRouter } from \"react-router-dom\";\n\nclass CreateNet extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      netname: \"\",\n      netcode: \"\",\n    };\n  }\n\n  handleFormSubmit = async (event) => {\n    try {\n      event.preventDefault();\n\n      const { netname, netcode } = this.state;\n      await netService.create(netname, netcode);\n\n      await this.props.me();\n\n      this.setState({ netname: \"\", netcode: \"\" });\n\n      this.props.history.push(\"/profile\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { netname, netcode } = this.state;\n\n    return (\n      <div>\n        <h1>Create a Net</h1>\n\n        <form className='formInputs' onSubmit={this.handleFormSubmit}>\n          <input\n            type='text'\n            name='netname'\n            value={netname}\n            onChange={this.handleChange}\n            placeholder='Net name'\n          />\n\n          <input\n            type='password'\n            name='netcode'\n            value={netcode}\n            onChange={this.handleChange}\n            placeholder='Net code'\n          />\n\n          <button type='submit'>Create</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withAuth(CreateNet));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../../context/auth-context\";\nimport netService from \"../../../services/net-service\";\nimport { withRouter } from \"react-router-dom\";\n\nclass JoinNet extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      netname: \"\",\n      netcode: \"\",\n    };\n  }\n\n  handleFormSubmit = async (event) => {\n    try {\n      event.preventDefault();\n\n      const { netname, netcode } = this.state;\n      await netService.join(netname, netcode);\n      this.setState({ netname: \"\", netcode: \"\" });\n\n      await this.props.me();\n\n      this.props.history.push(\"/profile\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { netname, netcode } = this.state;\n\n    return (\n      <div>\n        <h1>Join a Net</h1>\n\n        <form className='formInputs' onSubmit={this.handleFormSubmit}>\n          <input\n            type='text'\n            name='netname'\n            value={netname}\n            onChange={this.handleChange}\n            placeholder='Net name'\n          />\n\n          <input\n            type='password'\n            name='netcode'\n            value={netcode}\n            onChange={this.handleChange}\n            placeholder='Net code'\n          />\n\n          <button type='submit'>Join</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withAuth(JoinNet));\n","import React, { Component } from \"react\";\nimport \"./Netsform.css\";\n\nimport { withAuth } from \"../../context/auth-context\";\nimport CreateNet from \"./CreateNet/CreateNet\";\nimport JoinNet from \"./JoinNet/JoinNet\";\n\nclass Netsform extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      showCreateNet: false,\n      showJoinNet: false,\n    };\n  }\n\n  handleCreateBtn = () => {\n    this.setState({\n      showCreateNet: true,\n      showJoinNet: false,\n    });\n  };\n\n  handleJoinBtn = () => {\n    this.setState({\n      showCreateNet: false,\n      showJoinNet: true,\n    });\n  };\n\n  render() {\n    return (\n      <div className='authform'>\n        {this.props.user && this.props.user.nets.length === 0 ? (\n          <h4>You are not part of any net yet</h4>\n        ) : (\n          <h4>Create or join a net</h4>\n        )}\n\n        {this.state.showCreateNet === false &&\n        this.state.showJoinNet === false ? (\n          <div className='authbuttons'>\n            <button onClick={this.handleCreateBtn}>Create a net</button>\n            <button onClick={this.handleJoinBtn}>Join a net</button>\n          </div>\n        ) : null}\n\n        {this.state.showCreateNet ? (\n          <>\n            <CreateNet />\n            <button className='alreadymember' onClick={this.handleJoinBtn}>\n              Want to join a net?\n            </button>\n          </>\n        ) : null}\n\n        {this.state.showJoinNet ? (\n          <>\n            <JoinNet />\n\n            <button className='alreadymember' onClick={this.handleCreateBtn}>\n              Want to create a new net?\n            </button>\n          </>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Netsform);\n","import React, { Component } from \"react\";\nimport alertService from \"./../../services/alert-service\";\nimport \"./AlertMap.css\";\nimport { Link } from \"react-router-dom\";\n\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl-csp\";\nimport MapboxWorker from \"mapbox-gl/dist/mapbox-gl-csp-worker\";\n\nmapboxgl.workerClass = MapboxWorker;\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoiZmVkZW11bmllbnRlIiwiYSI6ImNrbHh6ZnA2MjB1bzYydXJ6c3Zxd3JnaG0ifQ.MYXBWDkRnwRoUQn8Dz1RRg\";\n\nclass AlertMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewLat: 41.3988,\n      viewLng: 2.1945,\n      viewZoom: 16,\n      alert: null,\n    };\n    this.mapContainer = React.createRef();\n  }\n\n  loadAlertData = async () => {\n    try {\n      const alert = await alertService.active(this.props.match.params.alertId);\n      this.setState({\n        alert,\n        viewLng: alert.location[0],\n        viewLat: alert.location[1],\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  printAlert = (map) => {\n    new mapboxgl.Marker({\n      color: \"#ff033e\",\n      draggable: false,\n    })\n      .setLngLat(this.state.alert.location)\n      .addTo(map);\n  };\n\n  async componentDidMount() {\n    try {\n      await this.loadAlertData();\n\n      // MapBox map load with the state's data\n      const { viewLng, viewLat, viewZoom } = this.state;\n      const alertMap = new mapboxgl.Map({\n        container: this.mapContainer.current,\n        style: \"mapbox://styles/mapbox/streets-v11\",\n        center: [viewLng, viewLat],\n        zoom: viewZoom,\n      });\n\n      // MapBox map movement function\n      alertMap.on(\"move\", () => {\n        this.setState({\n          viewLng: alertMap.getCenter().lng.toFixed(4),\n          viewLat: alertMap.getCenter().lat.toFixed(4),\n          viewZoom: alertMap.getZoom().toFixed(2),\n        });\n      });\n\n      // Print the array of public alerts coming from the DB\n      this.printAlert(alertMap);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div\n          ref={this.mapContainer}\n          className='map-container'\n          id='single-alert-map'\n        />\n        {this.state.alert ? (\n          <div className='alert-user-info'>\n            <Link to='/alerts'>Back</Link>\n            <div className='alert-bar-text'>\n              <p>Sent by:</p>\n              <p className='alert-bar-username'>\n                {this.state.alert.person.username}\n              </p>\n              <p>{this.state.alert.hour}</p>\n              <p>{this.state.alert.date}</p>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default AlertMap;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Menu.css\";\nimport { withAuth } from \"./../../context/auth-context\";\n\nfunction Menu(props) {\n  return (\n    <div className='menu flex'>\n      <div className='flex'>\n        <Link to='/'>\n          <button className='menu-button' onClick={props.toggle}>\n            Send an Alert\n          </button>\n        </Link>\n        <Link to='/alerts'>\n\n          <button className='menu-button' onClick={props.toggle}>\n            Alert List\n          </button>\n        </Link>\n        <Link to='/profile'>\n          <button className='menu-button' onClick={props.toggle}>\n            Net List\n          </button>\n        </Link>\n        <Link to='/heatmap'>\n          <button className='menu-button' onClick={props.toggle}>\n            Heat Map\n          </button>\n        </Link>\n      </div>\n\n      <button\n        className='menu-button'\n        onClick={() => {\n          props.logout();\n          props.toggle();\n        }}\n      >\n        Logout\n      </button>\n    </div>\n  );\n}\n\nexport default withAuth(Menu);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport \"./Navbar.css\";\nimport Menu from \"./Menu\";\n\nclass Navbar extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      displayMenu: undefined,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ displayMenu: false });\n  }\n\n  toggleMenu = () => {\n    this.state.displayMenu\n      ? this.setState({ displayMenu: false })\n      : this.setState({ displayMenu: true });\n  };\n\n  render() {\n    return (\n      <nav className='navbar'>\n        {this.props.isLoggedIn ? (\n          <>\n            {this.state.displayMenu ? (\n              <>\n                <Menu toggle={this.toggleMenu} />\n                <i className='fas fa-times' onClick={this.toggleMenu}></i>\n                <Link to='/' onClick={this.toggleMenu}>\n                  <p className='username'>\n                    {this.props.user && this.props.user.username}\n                  </p>\n                </Link>\n                <span style={{ width: \"width: 4.3vh\" }}></span>\n              </>\n            ) : (\n              <>\n                <i className='fas fa-bars' onClick={this.toggleMenu}></i>\n                <Link to='/'>\n                  <p className='username'>\n                    {this.props.user && this.props.user.username}\n                  </p>\n                </Link>\n                {this.props.user.netAlerts.length === 0 ? (\n                  <span className='notif-num zero'>\n                    <p>{this.props.user && this.props.user.netAlerts.length}</p>\n                  </span>\n                ) : (\n                  <Link to='/alerts'>\n                    <span className='notif-num'>\n                      <p>\n                        {this.props.user && this.props.user.netAlerts.length}\n                      </p>\n                    </span>\n                  </Link>\n                )}\n              </>\n            )}\n          </>\n        ) : null}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\n\nfunction PrivateRoute(routeProps) {\n  const { isLoggedIn, isLoading } = routeProps;\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n  if (isLoading) return \"Loading\";\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={function (props) {\n        if (!isLoggedIn) return <Redirect to='/' />;\n        else if (isLoggedIn) return <ComponentToShow {...props} />;\n      }}\n    />\n  );\n}\n\nexport default withAuth(PrivateRoute);","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { withAuth } from \"./context/auth-context\";\n\n// Pages\nimport MainPage from \"./pages/MainPage/MainPage\";\nimport HeatMap from \"./pages/HeatMap/HeatMap\";\nimport AlertList from \"./pages/AlertList/AlertList\";\nimport Profile from \"./pages/Profile/Profile\";\nimport Netsform from \"./pages/Netsform/Netsform\";\nimport AlertMap from \"./pages/AlertMap/AlertMap\";\n\n// Components\nimport Navbar from \"./components/Navbar/Navbar\";\n// import AnonRoute from \"./components/AnonRoute/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute/PrivateRoute\";\n\nfunction App () {\n  return (\n    <div className='container'>\n      <Navbar />\n      <Switch>\n        <Route exact path='/' component={MainPage} />\n        <PrivateRoute exact path='/nets' component={Netsform} />\n        <PrivateRoute exact path='/heatmap' component={HeatMap} />\n        <PrivateRoute exact path='/alerts' component={AlertList} />\n        <PrivateRoute exact path='/profile' component={Profile} />\n\n        <PrivateRoute\n          exact\n          path='/alerts/map/:alertId'\n          component={AlertMap}\n        />\n      </Switch>\n    </div>\n  );\n}\n\nexport default withAuth(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}